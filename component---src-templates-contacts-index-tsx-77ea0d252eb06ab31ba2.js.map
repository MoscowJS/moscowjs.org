{"version":3,"file":"component---src-templates-contacts-index-tsx-77ea0d252eb06ab31ba2.js","mappings":"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","sources":["webpack://moscowjs.org/./src/templates/contacts/index.tsx","webpack://moscowjs.org/./node_modules/react-feather/dist/icons/user-x.js"],"sourcesContent":["import React, { FunctionComponent } from 'react'\nimport { graphql, PageProps } from 'gatsby'\nimport styled from 'styled-components'\nimport { UserX } from 'react-feather'\nimport Img from 'gatsby-image'\n\nimport type {\n  Page as PageType,\n  Speaker,\n  WrappedWithDirectus,\n} from '../../models'\nimport {\n  Container,\n  Footer,\n  Header,\n  Item,\n  Markdown,\n} from '../../components/layout'\nimport { rhythm } from '../../utils/typography'\nimport SEO from '../../utils/seo'\n\nconst Grid = styled.ul`\n  --item-width: ${rhythm(4)};\n\n  margin: 0 0 ${rhythm(2)};\n  display: grid;\n  grid-template-columns: repeat(auto-fill, var(--item-width));\n  grid-gap: ${rhythm(0.5)};\n  justify-content: space-between;\n`\n\nconst GridItem = styled.li`\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  font-size: ${rhythm(0.5)};\n  margin: 0;\n`\n\ntype OrgPerson = Pick<\n  Speaker,\n  'name' | 'role' | 'photo' | 'about' | 'telegram' | 'email'\n>\n\nconst Page: FunctionComponent<\n  PageProps<\n    WrappedWithDirectus<{\n      pages_by_id: Pick<PageType, 'title' | 'content'>\n      persons: Array<OrgPerson>\n    }>\n  >\n> = ({ data, location }) => {\n  const { pages_by_id: page, persons } = data.directus\n  const orgs = persons.reduce(\n    (accumulator, person) => {\n      if (person.role === 'organizer') {\n        accumulator.organizer.push(person)\n      } else if (person.role === 'alumni_organizer') {\n        accumulator.alumni.push(person)\n      } else if (person.role === 'volunteer') {\n        accumulator.volunteer.push(person)\n      }\n      return accumulator\n    },\n    {\n      organizer: [],\n      alumni: [],\n      volunteer: [],\n    } as Record<'organizer' | 'alumni' | 'volunteer', Array<OrgPerson>>\n  )\n\n  return (\n    <>\n      <SEO title={page.title} />\n      <Header location={location} />\n      <Container as=\"main\">\n        <Markdown>{page.content}</Markdown>\n\n        <h3>Организаторы</h3>\n        {orgs.organizer.map(data => {\n          return (\n            <Item key={data.name}>\n              <Item.ImageContainer size=\"s\">\n                {data.photo ? (\n                  <Img\n                    fluid={data.photo.imageFile.childImageSharp.fluid}\n                    alt={data.name}\n                  />\n                ) : (\n                  <UserX size=\"100%\" />\n                )}\n              </Item.ImageContainer>\n              <Item.Content>\n                <Item.Header>{data.name}</Item.Header>\n                {data.about && <Markdown>{data.about}</Markdown>}\n                <div>\n                  telegram:{' '}\n                  <a href={`https://t.me/${data.telegram}`}>\n                    t.me/{data.telegram}\n                  </a>\n                </div>\n                <div>\n                  email: <a href={`mailto:${data.email}`}>{data.email}</a>\n                </div>\n              </Item.Content>\n            </Item>\n          )\n        })}\n\n        <h3>Бывшие организаторы</h3>\n        <Grid>\n          {orgs.alumni.map(data => (\n            <GridItem key={data.name}>\n              <div>\n                {data.photo ? (\n                  <Img\n                    fluid={data.photo.imageFile.childImageSharp.fluid}\n                    alt={data.name}\n                  />\n                ) : (\n                  <div\n                    css={`\n                      line-height: 0;\n                    `}\n                  >\n                    <UserX size=\"100%\" />\n                  </div>\n                )}\n                <p\n                  css={`\n                    text-align: center;\n                    font-size: ${rhythm(0.4)};\n                  `}\n                >\n                  {data.name}\n                </p>\n              </div>\n            </GridItem>\n          ))}\n        </Grid>\n\n        <h3>Волонтеры</h3>\n        <ul>\n          {orgs.volunteer.map(data => (\n            <li>{data.name}</li>\n          ))}\n        </ul>\n      </Container>\n      <Footer />\n    </>\n  )\n}\n\nexport const query = graphql`\n  query ($id: ID!) {\n    directus {\n      pages_by_id(id: $id) {\n        title\n        content\n      }\n      persons(\n        filter: {\n          role: { _in: [\"organizer\", \"alumni_organizer\", \"volunteer\"] }\n        }\n        sort: [\"name\"]\n        limit: -1\n      ) {\n        id\n        name\n        role\n        about\n        email\n        telegram\n        photo {\n          id\n          imageFile {\n            childImageSharp {\n              fluid(\n                cropFocus: CENTER\n                quality: 80\n                grayscale: true\n                maxWidth: 150\n                maxHeight: 150\n                fit: COVER\n              ) {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default Page\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar UserX = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"8.5\",\n    cy: \"7\",\n    r: \"4\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"8\",\n    x2: \"23\",\n    y2: \"13\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"23\",\n    y1: \"8\",\n    x2: \"18\",\n    y2: \"13\"\n  }));\n});\nUserX.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nUserX.displayName = 'UserX';\nexport default UserX;"],"names":["Grid","styled","ul","withConfig","displayName","componentId","rhythm","GridItem","li","_ref","data","location","pages_by_id","page","persons","directus","orgs","reduce","accumulator","person","role","organizer","push","alumni","volunteer","React","SEO","title","Header","Container","as","Markdown","content","map","Item","key","name","ImageContainer","size","photo","Img","fluid","imageFile","childImageSharp","alt","UserX","Content","about","href","telegram","email","_StyledDiv","_StyledP","$_css","Footer","p","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","forwardRef","ref","_ref$color","color","_ref$size","rest","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","cx","cy","r","x1","y1","x2","y2","propTypes"],"sourceRoot":""}