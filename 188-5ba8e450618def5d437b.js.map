{"version":3,"sources":["webpack://moscowjs.org/./node_modules/reakit/es/__keys-3c0b2243.js","webpack://moscowjs.org/./node_modules/reakit/es/Tab/TabList.js","webpack://moscowjs.org/./node_modules/reakit/es/Tab/Tab.js","webpack://moscowjs.org/./node_modules/reakit/es/Tab/TabPanel.js","webpack://moscowjs.org/./src/features/qna/qnaAsyncContainer/index.tsx","webpack://moscowjs.org/./node_modules/reakit/es/Tab/TabState.js"],"names":["TAB_KEYS","TAB_LIST_KEYS","TAB_PANEL_KEYS","concat","useTabList","createHook","name","compose","keys","useProps","options","htmlProps","role","orientation","TabList","createComponent","as","useHook","useCreateElement","type","props","children","useTab","useOptions","_ref","_ref$focusable","focusable","_","_ref2","htmlOnClick","onClick","htmlOnFocus","onFocus","selected","selectedId","id","tabPanelId","useMemo","_options$panels","_options$panels$find","panels","find","panel","groupId","undefined","useTabPanelId","onClickRef","useLiveRef","onFocusRef","useCallback","event","_onClickRef$current","_options$select","current","call","defaultPrevented","disabled","select","_onFocusRef$current","_options$select2","manual","Tab","memo","getTabId","_tabsWithoutPanel$pan","p","tabId","items","tabs","panelsTabIds","panelIndex","filter","indexOf","getPanelIndex","map","Boolean","item","useTabPanel","htmlRef","ref","useRef","registerPanel","unregisterPanel","useEffect","useForkRef","tabIndex","useComposeOptions","visible","TabPanel","QnaTabList","styled","rhythm","QnaTab","useQnaList","list","allTalks","loading","tab","initialState","_useSealedState","useSealedState","initialSelectedId","_useSealedState$loop","loop","_useSealedState$manua","sealed","composite","u","currentId","_React$useState","useState","setSelectedId","move","registerItem","unregisterItem","useTabState","isAdmin","useIsAdmin","sessionId","useContext","SessionContext","selectedTalk","selectTalk","answered","question","talk","published","placeholder","onChange","target","value","key","title","speaker","aria-label","length","unpublished","questions"],"mappings":"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","file":"188-5ba8e450618def5d437b.js","sourcesContent":["// Automatically generated\nvar TAB_STATE_KEYS = [\"baseId\", \"unstable_idCountRef\", \"unstable_virtual\", \"rtl\", \"orientation\", \"items\", \"groups\", \"currentId\", \"loop\", \"wrap\", \"shift\", \"unstable_moves\", \"unstable_hasActiveWidget\", \"unstable_includesBaseElement\", \"selectedId\", \"panels\", \"manual\", \"setBaseId\", \"registerItem\", \"unregisterItem\", \"registerGroup\", \"unregisterGroup\", \"move\", \"next\", \"previous\", \"up\", \"down\", \"first\", \"last\", \"sort\", \"unstable_setVirtual\", \"setRTL\", \"setOrientation\", \"setCurrentId\", \"setLoop\", \"setWrap\", \"setShift\", \"reset\", \"unstable_setIncludesBaseElement\", \"unstable_setHasActiveWidget\", \"select\", \"setSelectedId\", \"registerPanel\", \"unregisterPanel\"];\nvar TAB_KEYS = TAB_STATE_KEYS;\nvar TAB_LIST_KEYS = TAB_KEYS;\nvar TAB_PANEL_KEYS = [].concat(TAB_LIST_KEYS, [\"tabId\"]);\nexport { TAB_KEYS as T, TAB_LIST_KEYS as a, TAB_PANEL_KEYS as b };","import { a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport 'react';\nimport 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport { useWarning } from 'reakit-warning';\nimport 'reakit-utils/useLiveRef';\nimport 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/useIsomorphicEffect';\nimport 'reakit-utils/hasFocusWithin';\nimport 'reakit-utils/isPortalEvent';\nimport 'reakit-utils/dom';\nimport 'reakit-utils/tabbable';\nimport '../Role/Role.js';\nimport '../Tabbable/Tabbable.js';\nimport { useCreateElement } from 'reakit-system/useCreateElement';\nimport 'reakit-utils/getDocument';\nimport 'reakit-utils/fireBlurEvent';\nimport 'reakit-utils/fireKeyboardEvent';\nimport 'reakit-utils/canUseDOM';\nimport 'reakit-utils/getNextActiveElementOnBlur';\nimport '../reverse-30eaa122.js';\nimport '../getCurrentId-5aa9849e.js';\nimport '../findEnabledItemById-8ddca752.js';\nimport '../__keys-6742f591.js';\nimport '../userFocus-e16425e3.js';\nimport { useComposite } from '../Composite/Composite.js';\nimport { a as TAB_LIST_KEYS } from '../__keys-3c0b2243.js';\nvar useTabList = createHook({\n  name: \"TabList\",\n  compose: useComposite,\n  keys: TAB_LIST_KEYS,\n  useProps: function useProps(options, htmlProps) {\n    return _objectSpread2({\n      role: \"tablist\",\n      \"aria-orientation\": options.orientation\n    }, htmlProps);\n  }\n});\nvar TabList = createComponent({\n  as: \"div\",\n  useHook: useTabList,\n  useCreateElement: function useCreateElement$1(type, props, children) {\n    process.env.NODE_ENV !== \"production\" ? useWarning(!props[\"aria-label\"] && !props[\"aria-labelledby\"], \"You should provide either `aria-label` or `aria-labelledby` props.\", \"See https://reakit.io/docs/tab\") : void 0;\n    return useCreateElement(type, props, children);\n  }\n});\nexport { TabList, useTabList };","import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useMemo, useCallback } from 'react';\nimport 'reakit-utils/useForkRef';\nimport 'reakit-utils/isButton';\nimport 'reakit-warning';\nimport { useLiveRef } from 'reakit-utils/useLiveRef';\nimport 'reakit-utils/isSelfTarget';\nimport 'reakit-utils/useIsomorphicEffect';\nimport 'reakit-utils/hasFocusWithin';\nimport 'reakit-utils/isPortalEvent';\nimport 'reakit-utils/dom';\nimport 'reakit-utils/tabbable';\nimport '../Role/Role.js';\nimport '../Tabbable/Tabbable.js';\nimport '../Clickable/Clickable.js';\nimport 'reakit-utils/getDocument';\nimport '../getCurrentId-5aa9849e.js';\nimport '../__keys-6742f591.js';\nimport '../userFocus-e16425e3.js';\nimport 'reakit-utils/isTextField';\nimport 'reakit-utils/ensureFocus';\nimport '../Id/IdProvider.js';\nimport '../Id/Id.js';\nimport 'reakit-utils/fireEvent';\nimport '../setTextFieldValue-0a221f4e.js';\nimport { useCompositeItem } from '../Composite/CompositeItem.js';\nimport { T as TAB_KEYS } from '../__keys-3c0b2243.js';\n\nfunction useTabPanelId(options) {\n  return useMemo(function () {\n    var _options$panels, _options$panels$find;\n\n    return ((_options$panels = options.panels) === null || _options$panels === void 0 ? void 0 : (_options$panels$find = _options$panels.find(function (panel) {\n      return panel.groupId === options.id;\n    })) === null || _options$panels$find === void 0 ? void 0 : _options$panels$find.id) || undefined;\n  }, [options.panels, options.id]);\n}\n\nvar useTab = createHook({\n  name: \"Tab\",\n  compose: useCompositeItem,\n  keys: TAB_KEYS,\n  useOptions: function useOptions(_ref) {\n    var _ref$focusable = _ref.focusable,\n        focusable = _ref$focusable === void 0 ? true : _ref$focusable,\n        options = _objectWithoutPropertiesLoose(_ref, [\"focusable\"]);\n\n    return _objectSpread2({\n      focusable: focusable\n    }, options);\n  },\n  useProps: function useProps(options, _ref2) {\n    var htmlOnClick = _ref2.onClick,\n        htmlOnFocus = _ref2.onFocus,\n        htmlProps = _objectWithoutPropertiesLoose(_ref2, [\"onClick\", \"onFocus\"]);\n\n    var selected = options.selectedId === options.id;\n    var tabPanelId = useTabPanelId(options);\n    var onClickRef = useLiveRef(htmlOnClick);\n    var onFocusRef = useLiveRef(htmlOnFocus);\n    var onClick = useCallback(function (event) {\n      var _onClickRef$current, _options$select;\n\n      (_onClickRef$current = onClickRef.current) === null || _onClickRef$current === void 0 ? void 0 : _onClickRef$current.call(onClickRef, event);\n      if (event.defaultPrevented) return;\n      if (options.disabled) return;\n      if (!options.id) return;\n      if (selected) return;\n      (_options$select = options.select) === null || _options$select === void 0 ? void 0 : _options$select.call(options, options.id);\n    }, [options.disabled, selected, options.select, options.id]);\n    var onFocus = useCallback(function (event) {\n      var _onFocusRef$current, _options$select2;\n\n      (_onFocusRef$current = onFocusRef.current) === null || _onFocusRef$current === void 0 ? void 0 : _onFocusRef$current.call(onFocusRef, event);\n      if (event.defaultPrevented) return;\n      if (options.disabled) return;\n      if (options.manual) return;\n      if (!options.id) return;\n      if (selected) return;\n      (_options$select2 = options.select) === null || _options$select2 === void 0 ? void 0 : _options$select2.call(options, options.id);\n    }, [options.id, options.disabled, options.manual, selected, options.select]);\n    return _objectSpread2({\n      role: \"tab\",\n      \"aria-selected\": selected,\n      \"aria-controls\": tabPanelId,\n      onClick: onClick,\n      onFocus: onFocus\n    }, htmlProps);\n  }\n});\nvar Tab = createComponent({\n  as: \"button\",\n  memo: true,\n  useHook: useTab\n});\nexport { Tab, useTab };","import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { createComponent } from 'reakit-system/createComponent';\nimport { createHook } from 'reakit-system/createHook';\nimport 'reakit-utils/shallowEqual';\nimport { useRef, useEffect } from 'react';\nimport { useForkRef } from 'reakit-utils/useForkRef';\nimport 'reakit-utils/useLiveRef';\nimport 'reakit-utils/isSelfTarget';\nimport '../Role/Role.js';\nimport '../Id/IdProvider.js';\nimport { unstable_useId } from '../Id/Id.js';\nimport '../__keys-e6a5cfbe.js';\nimport { useDisclosureContent } from '../Disclosure/DisclosureContent.js';\nimport { b as TAB_PANEL_KEYS } from '../__keys-3c0b2243.js';\n\nfunction getTabsWithoutPanel(tabs, panels) {\n  var panelsTabIds = panels.map(function (panel) {\n    return panel.groupId;\n  }).filter(Boolean);\n  return tabs.filter(function (item) {\n    return panelsTabIds.indexOf(item.id || undefined) === -1;\n  });\n}\n\nfunction getPanelIndex(panels, panel) {\n  var panelsWithoutTabId = panels.filter(function (p) {\n    return !p.groupId;\n  });\n  return panelsWithoutTabId.indexOf(panel);\n}\n/**\n * When <TabPanel> is used without tabId:\n *\n *   - First render: getTabId will return undefined because options.panels\n * doesn't contain the current panel yet (registerPanel wasn't called yet).\n * Thus registerPanel will be called without groupId (tabId).\n *\n *   - Second render: options.panels already contains the current panel\n * (because registerPanel was called in the previous render). This means that\n * we'll be able to get the related tabId with the tab panel index. Basically,\n * we filter out all the tabs and panels that have already matched. In this\n * phase, registerPanel will be called again with the proper groupId (tabId).\n *\n *   - In the third render, panel.groupId will be already defined, so we just\n * return it. registerPanel is not called.\n */\n\n\nfunction getTabId(options) {\n  var _options$panels, _tabsWithoutPanel$pan;\n\n  var panel = (_options$panels = options.panels) === null || _options$panels === void 0 ? void 0 : _options$panels.find(function (p) {\n    return p.id === options.id;\n  });\n  var tabId = options.tabId || (panel === null || panel === void 0 ? void 0 : panel.groupId);\n\n  if (tabId || !panel || !options.panels || !options.items) {\n    return tabId;\n  }\n\n  var panelIndex = getPanelIndex(options.panels, panel);\n  var tabsWithoutPanel = getTabsWithoutPanel(options.items, options.panels);\n  return ((_tabsWithoutPanel$pan = tabsWithoutPanel[panelIndex]) === null || _tabsWithoutPanel$pan === void 0 ? void 0 : _tabsWithoutPanel$pan.id) || undefined;\n}\n\nvar useTabPanel = createHook({\n  name: \"TabPanel\",\n  compose: [unstable_useId, useDisclosureContent],\n  keys: TAB_PANEL_KEYS,\n  useProps: function useProps(options, _ref) {\n    var htmlRef = _ref.ref,\n        htmlProps = _objectWithoutPropertiesLoose(_ref, [\"ref\"]);\n\n    var ref = useRef(null);\n    var tabId = getTabId(options);\n    var id = options.id,\n        registerPanel = options.registerPanel,\n        unregisterPanel = options.unregisterPanel;\n    useEffect(function () {\n      if (!id) return undefined;\n      registerPanel === null || registerPanel === void 0 ? void 0 : registerPanel({\n        id: id,\n        ref: ref,\n        groupId: tabId\n      });\n      return function () {\n        unregisterPanel === null || unregisterPanel === void 0 ? void 0 : unregisterPanel(id);\n      };\n    }, [tabId, id, registerPanel, unregisterPanel]);\n    return _objectSpread2({\n      ref: useForkRef(ref, htmlRef),\n      role: \"tabpanel\",\n      tabIndex: 0,\n      \"aria-labelledby\": tabId\n    }, htmlProps);\n  },\n  useComposeOptions: function useComposeOptions(options) {\n    var tabId = getTabId(options);\n    return _objectSpread2({\n      visible: tabId ? options.selectedId === tabId : false\n    }, options);\n  }\n});\nvar TabPanel = createComponent({\n  as: \"div\",\n  useHook: useTabPanel\n});\nexport { TabPanel, useTabPanel };","import React, { FunctionComponent, useContext } from \"react\"\nimport {\n  QuestionForm,\n  QuestionsList,\n  useIsAdmin,\n  useQnaList,\n} from \"features/qna\"\nimport { useTabState, Tab, TabList, TabPanel } from \"reakit/Tab\"\nimport styled from \"styled-components\"\nimport { rhythm } from \"utils/typography\"\nimport { SessionContext } from \"../sessionContext\"\nimport { useState } from \"react\"\nimport { Select } from \"components/forms\"\n\nconst QnaTabList = styled(TabList)`\n  border-bottom: 5px solid var(--color-primary);\n  margin-bottom: ${rhythm(1)};\n`\n\nconst QnaTab = styled(Tab)`\n  color: var(--color-text);\n  background: none;\n  border: none;\n  padding: 0 ${rhythm(0.5)};\n  line-height: ${rhythm(2)};\n\n  &[aria-selected=\"true\"] {\n    background-color: var(--color-primary);\n    color: #000;\n  }\n`\n\nconst QnaAsyncContainer: FunctionComponent = () => {\n  const [list, allTalks, loading] = useQnaList()\n  const tab = useTabState()\n  const isAdmin = useIsAdmin()\n  const sessionId = useContext(SessionContext)\n  const [selectedTalk, selectTalk] = useState(\"Все вопросы\")\n  const handleTalkChange = (event: any) => {\n    selectTalk(event.target.value)\n  }\n\n  if (!sessionId) {\n    return <p>В настоящий момент вопросы не принимаются.</p>\n  }\n\n  if (selectedTalk !== \"Все вопросы\") {\n    list.answered = list.answered.filter(\n      question => question.talk === selectedTalk\n    )\n    list.published = list.published.filter(\n      question => question.talk === selectedTalk\n    )\n  }\n\n  return (\n    <>\n      <QuestionForm />\n      {loading ? (\n        <p>Загрузка...</p>\n      ) : (\n        <>\n          <p>\n            <Select placeholder={\"Фильтр вопросов\"} onChange={handleTalkChange}>\n              <option>Все вопросы</option>\n              {allTalks.map(talk => (\n                <option key={talk.title} id={talk.title}>\n                  {talk.title}, {talk.speaker}\n                </option>\n              ))}\n            </Select>\n          </p>\n          <QnaTabList {...tab} aria-label=\"Вкладки с вопросами\">\n            <QnaTab {...tab}>Вопросы</QnaTab>\n            {list.answered.length ? <QnaTab {...tab}>Отвеченные</QnaTab> : null}\n          </QnaTabList>\n          <TabPanel {...tab}>\n            {list.unpublished.length ? (\n              <>\n                <h4>На модерации</h4>\n                <QuestionsList questions={list.unpublished} />\n                <hr />\n              </>\n            ) : null}\n            <QuestionsList questions={list.published} />\n          </TabPanel>\n          {list.answered.length ? (\n            <TabPanel {...tab}>\n              <QuestionsList questions={list.answered} />\n            </TabPanel>\n          ) : null}\n        </>\n      )}\n      {isAdmin && (\n        <p>\n          <strong>Ура, ты админ!</strong>\n        </p>\n      )}\n    </>\n  )\n}\n\nexport default QnaAsyncContainer\n","import { _ as _objectWithoutPropertiesLoose, a as _objectSpread2 } from '../_rollupPluginBabelHelpers-1f0bf8c2.js';\nimport { useState, useCallback, useEffect } from 'react';\nimport 'reakit-utils/useIsomorphicEffect';\nimport { useSealedState } from 'reakit-utils/useSealedState';\nimport 'reakit-utils/getDocument';\nimport '../reverse-30eaa122.js';\nimport '../getCurrentId-5aa9849e.js';\nimport '../findEnabledItemById-8ddca752.js';\nimport '../Id/IdProvider.js';\nimport 'reakit-utils/applyState';\nimport '../Id/IdState.js';\nimport { useCompositeState } from '../Composite/CompositeState.js';\n\nfunction useTabState(initialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n\n  var _useSealedState = useSealedState(initialState),\n      initialSelectedId = _useSealedState.selectedId,\n      _useSealedState$loop = _useSealedState.loop,\n      loop = _useSealedState$loop === void 0 ? true : _useSealedState$loop,\n      _useSealedState$manua = _useSealedState.manual,\n      manual = _useSealedState$manua === void 0 ? false : _useSealedState$manua,\n      sealed = _objectWithoutPropertiesLoose(_useSealedState, [\"selectedId\", \"loop\", \"manual\"]);\n\n  var composite = useCompositeState(_objectSpread2({\n    loop: loop,\n    currentId: initialSelectedId\n  }, sealed));\n  var panels = useCompositeState();\n\n  var _React$useState = useState(initialSelectedId),\n      selectedId = _React$useState[0],\n      setSelectedId = _React$useState[1];\n\n  var select = useCallback(function (id) {\n    composite.move(id);\n    setSelectedId(id);\n  }, [composite.move]); // If selectedId is not set, use the currentId. It's still possible to have\n  // no selected tab with useTabState({ selectedId: null });\n\n  useEffect(function () {\n    if (selectedId === null) return;\n    var selectedItem = composite.items.find(function (item) {\n      return item.id === selectedId;\n    });\n    if (selectedItem) return;\n\n    if (composite.currentId) {\n      setSelectedId(composite.currentId);\n    }\n  }, [selectedId, composite.items, composite.currentId]);\n  return _objectSpread2(_objectSpread2({}, composite), {}, {\n    selectedId: selectedId,\n    panels: panels.items,\n    manual: manual,\n    select: select,\n    setSelectedId: setSelectedId,\n    registerPanel: useCallback(function (panel) {\n      return panels.registerItem(panel);\n    }, [panels.registerItem]),\n    unregisterPanel: useCallback(function (id) {\n      return panels.unregisterItem(id);\n    }, [panels.unregisterItem])\n  });\n}\n\nexport { useTabState };"],"sourceRoot":""}