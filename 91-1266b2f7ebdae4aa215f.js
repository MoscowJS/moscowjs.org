/*! For license information please see 91-1266b2f7ebdae4aa215f.js.LICENSE.txt */
(self.webpackChunkmoscowjs_org=self.webpackChunkmoscowjs_org||[]).push([[91],{91874:function(e,t,n){"use strict";var r=n(31129),i=n(46214),o=n(79900),a=n(28691),s=n(35190);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new a.ErrorFactory("appCheck","AppCheck",h),p=new Map,d={activated:!1,tokenListeners:[]},g={enabled:!1};function v(e){return p.get(e)||d}function m(e,t){p.set(e,t)}function _(){return g}function b(){return self.grecaptcha}function y(e){if(!v(e).activated)throw f.create("use-before-activation",{appName:e.name})}var w="https://www.google.com/recaptcha/api.js";function E(e,t){var n=v(e),r=new a.Deferred;m(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u,c,l=b();return l?l.ready((function(){I(e,t,l,i),r.resolve(l)})):(u=function(){var n=b();if(!n)throw new Error("no recaptcha");n.ready((function(){I(e,t,n,i),r.resolve(n)}))},(c=document.createElement("script")).src=""+w,c.onload=u,document.head.appendChild(c)),r.promise}function T(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return y(e),[4,v(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=v(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function I(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=v(e);m(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var S="https://content-firebaseappcheck.googleapis.com/v1beta",k=3e4,C=96e4,A=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function P(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,h,p,d;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return p=1e3*Number(h[1]),d=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:d+p,issuedAtTimeMillis:d}]}}))}))}function R(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:S+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function O(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:S+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var x="firebase-app-check-store",M="debug-token",D=null;function N(){return D||(D=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(x,{keyPath:"compositeKey"})}}}catch(r){t(f.create("storage-open",{originalErrorMessage:r.message}))}})))}function L(e){return F(U(e))}function j(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,N()];case 1:return n=o.sent(),r=n.transaction(x,"readwrite"),i=r.objectStore(x),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function F(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,N()];case 1:return t=o.sent(),n=t.transaction(x,"readonly"),r=n.objectStore(x),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function U(e){return e.options.appId+"-"+e.name}var B=new s.Logger("@firebase/app-check");function H(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,L(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),B.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}function K(e,t){return a.isIndexedDBAvailable()?function(e,t){return j(U(e),t)}(e,t).catch((function(e){B.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function q(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,F(M)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,j(M,r)).catch((function(e){return B.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function V(){return _().enabled}function z(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=_()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var W={error:"UNKNOWN_ERROR"};function G(e){return a.base64.encodeString(JSON.stringify(e),!1)}function X(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,s,u,c,l,h,p,d,g,_,b,w;return o.__generator(this,(function(E){switch(E.label){case 0:return y(e),V()?(r=P,i=O,s=[e],[4,z()]):[3,3];case 1:return[4,r.apply(void 0,[i.apply(void 0,s.concat([E.sent()])),t])];case 2:return[2,{token:E.sent().token}];case 3:return u=v(e),c=u.token,l=void 0,c?[3,5]:[4,H(e)];case 4:(h=E.sent())&&Y(h)&&(c=h,m(e,o.__assign(o.__assign({},u),{token:c})),J(e,{token:c.token})),E.label=5;case 5:if(!n&&c&&Y(c))return[2,{token:c.token}];E.label=6;case 6:return E.trys.push([6,12,,13]),u.customProvider?[4,u.customProvider.getToken()]:[3,8];case 7:return p=E.sent(),d=a.issuedAtTime(p.token),g=null!==d&&d<Date.now()&&d>0?1e3*d:Date.now(),c=o.__assign(o.__assign({},p),{issuedAtTimeMillis:g}),[3,11];case 8:return[4,T(e).catch((function(e){throw f.create("recaptcha-error")}))];case 9:return _=E.sent(),[4,P(R(e,_),t)];case 10:c=E.sent(),E.label=11;case 11:return[3,13];case 12:return b=E.sent(),B.error(b),l=b,[3,13];case 13:return c?[3,14]:(w=function(e){return{token:G(W),error:e}}(l),[3,16]);case 14:return w={token:c.token},m(e,o.__assign(o.__assign({},u),{token:c})),[4,K(e,c)];case 15:E.sent(),E.label=16;case 16:return J(e,w),[2,w]}}))}))}function $(e,t,n){var r=v(e),i=o.__assign(o.__assign({},r),{tokenListeners:o.__spreadArray(o.__spreadArray([],r.tokenListeners),[n])});if(V()){var a=_();a.enabled&&a.token&&a.token.promise.then((function(e){return n({token:e})})).catch((function(){}))}else{if(!i.tokenRefresher){var s=function(e,t){var n=this;return new A((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return v(e).token?[3,2]:[4,X(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,X(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=v(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),k,C)}(e,t);i.tokenRefresher=s}if(i.tokenRefresher.isRunning()||!0!==r.isTokenAutoRefreshEnabled||i.tokenRefresher.start(),r.token&&Y(r.token)){var u=r.token;Promise.resolve().then((function(){return n({token:u.token})})).catch((function(){}))}}m(e,i)}function J(e,t){for(var n=0,r=v(e).tokenListeners;n<r.length;n++){var i=r[n];try{i(t)}catch(o){}}}function Y(e){return e.expireTimeMillis-Date.now()>0}function Z(e){return{activate:function(t,n){return function(e,t,n){var r=v(e);if(r.activated)throw f.create("already-activated",{appName:e.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"==typeof t?i.siteKey=t:i.customProvider=t,i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,m(e,i),i.siteKey&&E(e,i.siteKey).catch((function(){}))}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=v(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),m(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)}}}function Q(e,t){return{getToken:function(n){return X(e,t,n)},addTokenListener:function(n){return $(e,t,n)},removeTokenListener:function(t){return function(e,t){var n=v(e),r=n.tokenListeners.filter((function(e){return e!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(e,o.__assign(o.__assign({},n),{tokenListeners:r}))}(e,t)}}}var ee="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return Z(e.getProvider("app").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(ee).initialize()}))),e.INTERNAL.registerComponent(new i.Component(ee,(function(e){return Q(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.1.4")}(l.default),function(){var e=a.getGlobal();if("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=_();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(q())}}()},78689:function(e,t,n){"use strict";n.d(t,{jK:function(){return hr},ju:function(){return pr},tw:function(){return fr},zI:function(){return gr},kN:function(){return dr},ii:function(){return vr},JJ:function(){return mr},UE:function(){return cr},FJ:function(){return lr}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},s=s||{},u=a||self;function c(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function d(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function v(e,t,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:g).apply(null,arguments)}function m(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(){return Date.now()}function b(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Pb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function y(){this.j=this.j,this.i=this.i}y.prototype.j=!1,y.prototype.ka=function(){if(!this.j&&(this.j=!0,this.H(),0))(function(e){Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++p)})(this)},y.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},E=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function T(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e){return/^[\s\xa0]*$/.test(e)}var k,C=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function A(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var R=u.navigator;if(R){var O=R.userAgent;if(O){k=O;break e}}k=""}function x(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function M(e){var t={};for(var n in e)t[n]=e[n];return t}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<D.length;o++)n=D[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){return L[" "](e),e}L[" "]=c;var j,F,U=A(k,"Opera"),B=A(k,"Trident")||A(k,"MSIE"),H=A(k,"Edge"),K=H||B,q=A(k,"Gecko")&&!(A(k.toLowerCase(),"webkit")&&!A(k,"Edge"))&&!(A(k,"Trident")||A(k,"MSIE"))&&!A(k,"Edge"),V=A(k.toLowerCase(),"webkit")&&!A(k,"Edge");function z(){var e=u.document;return e?e.documentMode:void 0}e:{var W="",G=(F=k,q?/rv:([^\);]+)(\)|;)/.exec(F):H?/Edge\/([\d\.]+)/.exec(F):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(F):V?/WebKit\/(\S+)/.exec(F):U?/(?:Version)[ \/]?(\S+)/.exec(F):void 0);if(G&&(W=G?G[1]:""),B){var X=z();if(null!=X&&X>parseFloat(W)){j=String(X);break e}}j=W}var $,J={};function Y(e){return function(e,t){var n=J;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=C(String(j)).split("."),r=C(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&B){var Z=z();$=Z||(parseInt(j,10)||void 0)}else $=void 0;var Q=$,ee=!B||9<=Number(Q),te=B&&!Y("9"),ne=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",c,t),u.removeEventListener("test",c,t)}catch(n){}return e}();function re(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ie(e,t){if(re.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(q){e:{try{L(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:oe[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}re.prototype.b=function(){this.defaultPrevented=!0},b(ie,re);var oe={2:"touch",3:"pen",4:"mouse"};ie.prototype.b=function(){ie.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,te)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ae="closure_listenable_"+(1e6*Math.random()|0),se=0;function ue(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++se,this.Y=this.Z=!1}function ce(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function le(e){this.src=e,this.a={},this.b=0}function he(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=w(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ce(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function fe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}le.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=fe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ue(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var pe="closure_lm_"+(1e6*Math.random()|0),de={};function ge(e,t,n,r,i){if(r&&r.once)return me(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ge(e,t[o],n,r,i);return null}return n=Se(n),e&&e[ae]?e.wa(t,n,h(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i;if(a&&!ee)return null;var s=Te(e);if(s||(e[pe]=s=new le(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Ee,t=ee?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ne||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ye(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function me(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)me(e,t[o],n,r,i);return null}return n=Se(n),e&&e[ae]?e.xa(t,n,h(r)?!!r.capture:!!r,i):ve(e,t,n,!0,r,i)}function _e(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_e(e,t[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=Se(n),e&&e[ae]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=fe(o=e.a[t],n,r,i))&&(ce(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Te(e))&&(t=e.a[t.toString()],e=-1,t&&(e=fe(t,n,r,i)),(n=-1<e?t[e]:null)&&be(n))}function be(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[ae])he(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ye(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(he(n,e),0==n.b&&(n.src=null,t[pe]=null)):ce(e)}}}function ye(e){return e in de?de[e]:de[e]="on"+e}function we(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&be(e),n.call(r,t)}function Ee(e,t){if(e.Y)return!0;if(!ee){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return we(e,t=new ie(t,this))}return we(e,new ie(t,this))}function Te(e){return(e=e[pe])instanceof le?e:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(e){return"function"==typeof e?e:(e[Ie]||(e[Ie]=function(t){return e.handleEvent(t)}),e[Ie])}function ke(){y.call(this),this.c=new le(this),this.J=this,this.D=null}function Ce(e,t){var n,r=e.D;if(r)for(n=[];r;r=r.D)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new re(t,e);else if(t instanceof re)t.target=t.target||e;else{var i=t;N(t=new re(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Ae(a,r,!0,t)&&i}if(i=Ae(a=t.a=e,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ae(a=t.a=n[o],r,!1,t)&&i}function Ae(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&he(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(ke,y),ke.prototype[ae]=!0,(o=ke.prototype).addEventListener=function(e,t,n,r){ge(this,e,t,n,r)},o.removeEventListener=function(e,t,n,r){_e(this,e,t,n,r)},o.H=function(){if(ke.X.H.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ce(n[r]);delete t.a[e],t.b--}}this.D=null},o.wa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},o.xa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Pe=u.JSON.stringify;function Re(){this.b=this.a=null}var Oe,xe=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new De}),(function(e){e.reset()}));function Me(){var e=Fe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function De(){this.next=this.b=this.a=null}function Ne(e){u.setTimeout((function(){throw e}),0)}function Le(e,t){Oe||function(){var e=u.Promise.resolve(void 0);Oe=function(){e.then(Ue)}}(),je||(Oe(),je=!0),Fe.add(e,t)}Re.prototype.add=function(e,t){var n=xe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},De.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},De.prototype.reset=function(){this.next=this.b=this.a=null};var je=!1,Fe=new Re;function Ue(){for(var e;e=Me();){try{e.a.call(e.b)}catch(n){Ne(n)}var t=xe;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}je=!1}function Be(e,t){ke.call(this),this.b=e||1,this.a=t||u,this.f=v(this.eb,this),this.g=_()}function He(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Ke(e,t,n){if("function"==typeof e)n&&(e=v(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=v(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function qe(e){e.a=Ke((function(){e.a=null,e.c&&(e.c=!1,qe(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}b(Be,ke),(o=Be.prototype).aa=!1,o.M=null,o.eb=function(){if(this.aa){var e=_()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ce(this,"tick"),this.aa&&(He(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},o.H=function(){Be.X.H.call(this),He(this),delete this.a};var Ve=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:qe(this)},t.prototype.H=function(){e.prototype.H.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(y);function ze(e){y.call(this),this.b=e,this.a={}}b(ze,y);var We=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(We[0]=n.toString()),n=We);for(var i=0;i<n.length;i++){var o=ge(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Xe(e){x(e.a,(function(e,t){this.a.hasOwnProperty(t)&&be(e)}),e),e.a={}}function $e(){this.a=!0}function Je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Pe(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ze.prototype.H=function(){ze.X.H.call(this),Xe(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.info=function(){};var Ye={},Ze=null;function Qe(){return Ze=Ze||new ke}function et(e){re.call(this,Ye.Ga,e)}function tt(e){var t=Qe();Ce(t,new et(t,e))}function nt(e,t){re.call(this,Ye.STAT_EVENT,e),this.stat=t}function rt(e){var t=Qe();Ce(t,new nt(t,e))}function it(e){re.call(this,Ye.Ha,e)}function ot(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}Ye.Ga="serverreachability",b(et,re),Ye.STAT_EVENT="statevent",b(nt,re),Ye.Ha="timingevent",b(it,re);var at={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},st={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function ut(){}function ct(e){return e.b||(e.b=e.c())}function lt(){}ut.prototype.b=null;var ht,ft={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function pt(){re.call(this,"d")}function dt(){re.call(this,"c")}function gt(){}function vt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new ze(this),this.P=mt,e=K?125:void 0,this.R=new Be(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}b(pt,re),b(dt,re),b(gt,ut),gt.prototype.a=function(){return new XMLHttpRequest},gt.prototype.c=function(){return{}},ht=new gt;var mt=45e3,_t={},bt={};function yt(e,t,n){e.G=1,e.i=Kt(Lt(t)),e.j=n,e.I=!0,wt(e,null)}function wt(e,t){e.u=_(),It(e),e.l=Lt(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),tn(n.b,"t",r),e.D=0,e.a=Jn(e.g,e.g.C?t:null),0<e.O&&(e.F=new Ve(v(e.Da,e,e.a),e.O)),Ge(e.J,e.a,"readystatechange",e.bb),t=e.B?M(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),tt(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function Et(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Tt(e,n);if(i==bt){4==t&&(e.h=4,rt(14),r=!1),Je(e.c,e.f,null,"[Incomplete Response]");break}if(i==_t){e.h=4,rt(15),Je(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Je(e.c,e.f,i,null),Pt(e,i)}4==t&&0==n.length&&(e.h=1,rt(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kn(t),t.F=!0,rt(11))):(Je(e.c,e.f,n,"[Invalid Chunked Response]"),At(e),Ct(e))}function Tt(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?bt:(n=Number(t.substring(n,r)),isNaN(n)?_t:(r+=1)+n>t.length?bt:(t=t.substr(r,n),e.D=r+n,t))}function It(e){e.T=_()+e.P,St(e,e.P)}function St(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=ot(v(e.$a,e),t)}function kt(e){e.o&&(u.clearTimeout(e.o),e.o=null)}function Ct(e){0==e.g.v||e.A||zn(e.g,e)}function At(e){kt(e);var t=e.F;t&&"function"==typeof t.ka&&t.ka(),e.F=null,He(e.R),Xe(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ka())}function Pt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||cn(n.b,e)))if(n.I=e.N,!e.C&&cn(n.b,e)&&3==n.v){try{var r=n.la.a.parse(t)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Vn(n),Mn(n)}Hn(n),rt(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=ot(v(n.Xa,n),6e3));if(1>=un(n.b)&&n.fa){try{n.fa()}catch(m){}n.fa=void 0}}else Gn(n,11)}else if((e.C||n.a==e)&&Vn(n),!S(t))for(t=r=n.la.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var a=i[4];null!=a&&(n.qa=a,n.c.info("SVER="+n.qa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(A(l,"spdy")||A(l,"quic")||A(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ln(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,Ht(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=_()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=e;if((u=n).ma=$n(u,u.C?u.ha:null,u.ga),p.C){hn(u.b,p);var d=p,g=u.D;g&&d.setTimeout(g),d.o&&(kt(d),It(d)),u.a=p}else Bn(u);0<n.g.length&&Ln(n)}else"stop"!=i[0]&&"close"!=i[0]||Gn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gn(n,7):xn(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);tt(4)}catch(m){}}function Rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"==typeof e)E(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(l(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ot(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ot)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Mt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Mt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=vt.prototype).setTimeout=function(e){this.P=e},o.bb=function(e){e=e.target;var t=this.F;t&&3==An(e)?t.f():this.Da(e)},o.Da=function(e){try{if(e==this.a)e:{var t=An(this.a),n=this.a.va(),r=this.a.W();if(!(3>t||3==t&&!K&&!this.a.$())){this.A||4!=t||7==n||tt(8==n||0>=r?3:2),kt(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,rt(12),At(this),Ct(this);break e}Je(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Pt(this,u)}this.I?(Et(this,t,o),K&&this.b&&3==t&&(Ge(this.J,this.R,"tick",this.ab),this.R.start())):(Je(this.c,this.f,o,null),Pt(this,o)),4==t&&At(this),this.b&&!this.A&&(4==t?zn(this.g,this):(this.b=!1,It(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,rt(12)):(this.h=0,rt(13)),At(this),Ct(this)}}}catch(c){}},o.ab=function(){if(this.a){var e=An(this.a),t=this.a.$();this.D<t.length&&(kt(this),Et(this,e,t),this.b&&4!=e&&It(this))}},o.cancel=function(){this.A=!0,At(this)},o.$a=function(){this.o=null;var e=_();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.G&&(tt(3),rt(17)),At(this),this.h=2,Ct(this)):St(this,this.T-e)},(o=Ot.prototype).K=function(){xt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},o.L=function(){return xt(this),this.a.concat()},o.get=function(e,t){return Mt(this.b,e)?this.b[e]:t},o.set=function(e,t){Mt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},o.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Dt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Nt){this.a=void 0!==t?t:e.a,jt(this,e.f),this.j=e.j,Ft(this,e.c),Ut(this,e.h),this.g=e.g,t=e.b;var n=new Yt;n.c=t.c,t.a&&(n.a=new Ot(t.a),n.b=t.b),Bt(this,n),this.i=e.i}else e&&(n=String(e).match(Dt))?(this.a=!!t,jt(this,n[1]||"",!0),this.j=qt(n[2]||""),Ft(this,n[3]||"",!0),Ut(this,n[4]),this.g=qt(n[5]||"",!0),Bt(this,n[6]||"",!0),this.i=qt(n[7]||"")):(this.a=!!t,this.b=new Yt(null,this.a))}function Lt(e){return new Nt(e)}function jt(e,t,n){e.f=n?qt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ft(e,t,n){e.c=n?qt(t,!0):t}function Ut(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Bt(e,t,n){t instanceof Yt?(e.b=t,function(e,t){t&&!e.f&&(Zt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qt(this,t),tn(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Vt(t,$t)),e.b=new Yt(t,e.a))}function Ht(e,t,n){e.b.set(t,n)}function Kt(e){return Ht(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Vt(t,Wt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Vt(t,Wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vt(n,"/"==n.charAt(0)?Xt:Gt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Vt(n,Jt)),e.join("")};var Wt=/[#\/\?@]/g,Gt=/[#\?:]/g,Xt=/[#\?]/g,$t=/[#\?@]/g,Jt=/#/g;function Yt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zt(e){e.a||(e.a=new Ot,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qt(e,t){Zt(e),t=nn(e,t),Mt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Mt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&xt(e)))}function en(e,t){return Zt(e),t=nn(e,t),Mt(e.a.b,t)}function tn(e,t,n){Qt(e,t),0<n.length&&(e.c=null,e.a.set(nn(e,t),I(n)),e.b+=n.length)}function nn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(o=Yt.prototype).add=function(e,t){Zt(this),this.c=null,e=nn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},o.forEach=function(e,t){Zt(this),this.a.forEach((function(n,r){E(n,(function(n){e.call(t,n,r,this)}),this)}),this)},o.L=function(){Zt(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.K=function(e){Zt(this);var t=[];if("string"==typeof e)en(this,e)&&(t=T(t,this.a.get(nn(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=T(t,e[n])}return t},o.set=function(e,t){return Zt(this),this.c=null,en(this,e=nn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},o.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var rn=function(e,t){this.b=e,this.a=t};function on(e){this.g=e||an,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.ja&&u.ja.za&&u.ja.za()&&u.ja.za().Qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var an=10;function sn(e){return!!e.b||!!e.a&&e.a.size>=e.f}function un(e){return e.b?1:e.a?e.a.size:0}function cn(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function ln(e,t){e.a?e.a.add(t):e.b=t}function hn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function fn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var o=i(e.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return I(e.c)}function pn(){}function dn(){this.a=new pn}function gn(e,t,n){var r=n||"";try{Rt(e,(function(e,n){var i=e;h(e)&&(i=Pe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}on.prototype.cancel=function(){var e,t;if(this.c=fn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},pn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},pn.prototype.parse=function(e){return u.JSON.parse(e,void 0)};var mn=u.JSON.parse;function _n(e){ke.call(this),this.headers=new Ot,this.l=e||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=bn,this.F=this.G=!1}b(_n,ke);var bn="",yn=/^https?$/i,wn=["POST","PUT"];function En(e){return"content-type"==e.toLowerCase()}function Tn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,In(e),kn(e)}function In(e){e.A||(e.A=!0,Ce(e,"complete"),Ce(e,"error"))}function Sn(e){if(e.b&&void 0!==s&&(!e.u[1]||4!=An(e)||2!=e.W()))if(e.m&&4==An(e))Ke(e.Aa,0,e);else if(Ce(e,"readystatechange"),4==An(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.C).match(Dt)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!yn.test(o?o.toLowerCase():"")}t=i}if(t)Ce(e,"complete"),Ce(e,"success");else{e.h=6;try{var c=2<An(e)?e.a.statusText:""}catch(n){c=""}e.f=c+" ["+e.W()+"]",In(e)}}finally{kn(e)}}}function kn(e,t){if(e.a){Cn(e);var n=e.a,r=e.u[0]?c:null;e.a=null,e.u=null,t||Ce(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Cn(e){e.a&&e.F&&(e.a.ontimeout=null),e.o&&(u.clearTimeout(e.o),e.o=null)}function An(e){return e.a?e.a.readyState:0}function Pn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return x(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ht(e,t,n))}function Rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function On(e){this.qa=0,this.g=[],this.c=new $e,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Rn("failFast",!1,e),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Rn("baseRetryDelayMs",5e3,e),this.Sa=Rn("retryDelaySeedMs",1e4,e),this.Na=Rn("forwardChannelMaxRetries",2,e),this.na=Rn("forwardChannelRequestTimeoutMs",2e4,e),this.Oa=e&&e.xmlHttpFactory||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new on(e&&e.concurrentRequestLimit),this.la=new dn,this.ea=e&&e.fastHandshake||!1,this.Ja=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&e&&e.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function xn(e){if(Dn(e),3==e.v){var t=e.R++,n=Lt(e.B);Ht(n,"SID",e.J),Ht(n,"RID",t),Ht(n,"TYPE","terminate"),Fn(e,n),(t=new vt(e,e.c,t,void 0)).G=2,t.i=Kt(Lt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.i.toString(),"")),!n&&u.Image&&((new Image).src=t.i,n=!0),n||(t.a=Jn(t.g,null),t.a.ba(t.i)),t.u=_(),It(t)}Xn(e)}function Mn(e){e.a&&(Kn(e),e.a.cancel(),e.a=null)}function Dn(e){Mn(e),e.j&&(u.clearTimeout(e.j),e.j=null),Vn(e),e.b.cancel(),e.h&&("number"==typeof e.h&&u.clearTimeout(e.h),e.h=null)}function Nn(e,t){e.g.push(new rn(e.Pa++,t)),3==e.v&&Ln(e)}function Ln(e){sn(e.b)||e.h||(e.h=!0,Le(e.Ca,e),e.u=0)}function jn(e,t){var n;n=t?t.f:e.R++;var r=Lt(e.B);Ht(r,"SID",e.J),Ht(r,"RID",n),Ht(r,"AID",e.P),Fn(e,r),e.i&&e.l&&Pn(r,e.i,e.l),n=new vt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Un(e,n,1e3),n.setTimeout(Math.round(.5*e.na)+Math.round(.5*e.na*Math.random())),ln(e.b,n),yt(n,r,t)}function Fn(e,t){e.f&&Rt({},(function(e,n){Ht(t,n,e)}))}function Un(e,t,n){n=Math.min(e.g.length,n);var r=e.f?v(e.f.Ka,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{gn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Bn(e){e.a||e.j||(e.T=1,Le(e.Ba,e),e.o=0)}function Hn(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=ot(v(e.Ba,e),Wn(e,e.o)),e.o++,!0)}function Kn(e){null!=e.s&&(u.clearTimeout(e.s),e.s=null)}function qn(e){e.a=new vt(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Lt(e.ma);Ht(t,"RID","rpc"),Ht(t,"SID",e.J),Ht(t,"CI",e.G?"0":"1"),Ht(t,"AID",e.P),Fn(e,t),Ht(t,"TYPE","xmlhttp"),e.i&&e.l&&Pn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ha,n.G=1,n.i=Kt(Lt(t)),n.j=null,n.I=!0,wt(n,e)}function Vn(e){null!=e.m&&(u.clearTimeout(e.m),e.m=null)}function zn(e,t){var n=null;if(e.a==t){Vn(e),Kn(e),e.a=null;var r=2}else{if(!cn(e.b,t))return;n=t.s,hn(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=_()-t.u;var i=e.u;Ce(r=Qe(),new it(r,n,t,i)),Ln(e)}else Bn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(un(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.Ma?0:e.Na)||(e.h=ot(v(e.Ca,e,t),Wn(e,e.u)),e.u++,0)))}(e,t)||2==r&&Hn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Gn(e,5);break;case 4:Gn(e,10);break;case 3:Gn(e,6);break;default:Gn(e,2)}}function Wn(e,t){var n=e.Ia+Math.floor(Math.random()*e.Sa);return e.f||(n*=2),n*t}function Gn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=v(e.cb,e);n||(n=new Nt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||jt(n,"https"),Kt(n)),function(e,t){var n=new $e;if(u.Image){var r=new Image;r.onload=m(vn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=m(vn,n,r,"TestLoadImage: error",!1,t),r.onabort=m(vn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=m(vn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rt(2);e.v=0,e.f&&e.f.sa(t),Xn(e),Dn(e)}function Xn(e){e.v=0,e.I=-1,e.f&&(0==fn(e.b).length&&0==e.g.length||(e.b.c.length=0,I(e.g),e.g.length=0),e.f.ra())}function $n(e,t,n){var r=function(e){return e instanceof Nt?Lt(e):new Nt(e,void 0)}(n);if(""!=r.c)t&&Ft(r,t+"."+r.c),Ut(r,r.h);else{var i=u.location;r=function(e,t,n,r){var i=new Nt(null,void 0);return e&&jt(i,e),t&&Ft(i,t),n&&Ut(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&x(e.V,(function(e,t){Ht(r,t,e)})),t=e.A,n=e.oa,t&&n&&Ht(r,t,n),Ht(r,"VER",e.ia),Fn(e,r),r}function Jn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new _n(e.Oa)).G=e.C,t}function Yn(){}function Zn(){if(B&&!(10<=Number(Q)))throw Error("Environmental error: no available transport.")}function Qn(e,t){ke.call(this),this.a=new On(t),this.g=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!S(e)&&(this.a.i=e),this.o=t&&t.supportsCrossDomainXhr||!1,this.m=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new nr(this)}function er(e){pt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function tr(){dt.call(this),this.status=1}function nr(e){this.a=e}function rr(e){this.f=e}function ir(e){ke.call(this),this.u=e,this.h=void 0,this.readyState=or,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(o=_n.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+e);t=t?t.toUpperCase():"GET",this.C=e,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():ht.a(),this.u=this.l?ct(this.l):ct(ht),this.a.onreadystatechange=v(this.Aa,this);try{this.B=!0,this.a.open(t,String(e),!0),this.B=!1}catch(o){return void Tn(this,o)}e=n||"";var i=new Ot(this.headers);r&&Rt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=En,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=u.FormData&&e instanceof u.FormData,!(0<=w(wn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Cn(this),0<this.s&&((this.F=function(e){return B&&Y(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=v(this.ya,this)):this.o=Ke(this.ya,this.s,this)),this.m=!0,this.a.send(e),this.m=!1}catch(o){Tn(this,o)}},o.ya=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,Ce(this,"timeout"),this.abort(8))},o.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Ce(this,"complete"),Ce(this,"abort"),kn(this))},o.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kn(this,!0)),_n.X.H.call(this)},o.Aa=function(){this.j||(this.B||this.m||this.g?Sn(this):this.Za())},o.Za=function(){Sn(this)},o.W=function(){try{return 2<An(this)?this.a.status:-1}catch(F){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(F){return""}},o.Qa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mn(t)}},o.va=function(){return this.h},o.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=On.prototype).ia=8,o.v=1,o.Ca=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new vt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?N(r=M(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Un(this,n,t),Ht(i=Lt(this.B),"RID",e),Ht(i,"CVER",22),this.A&&Ht(i,"X-HTTP-Session-Id",this.A),Fn(this,i),this.i&&r&&Pn(i,this.i,r),ln(this.b,n),this.Ja&&Ht(i,"TYPE","init"),this.ea?(Ht(i,"$req",t),Ht(i,"SID","null"),n.U=!0,yt(n,i,null)):yt(n,i,t),this.v=2}}else 3==this.v&&(e?jn(this,e):0==this.g.length||sn(this.b)||jn(this))},o.Ba=function(){if(this.j=null,qn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=ot(v(this.Ya,this),e)}},o.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,rt(10),Mn(this),qn(this))},o.Xa=function(){null!=this.m&&(this.m=null,Mn(this),Hn(this),rt(19))},o.cb=function(e){e?(this.c.info("Successfully pinged google.com"),rt(2)):(this.c.info("Failed to ping google.com"),rt(1))},(o=Yn.prototype).ua=function(){},o.ta=function(){},o.sa=function(){},o.ra=function(){},o.Ka=function(){},Zn.prototype.a=function(e,t){return new Qn(e,t)},b(Qn,ke),Qn.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var e=this.a,t=this.g,n=this.b||void 0;rt(0),e.ga=t,e.V=n||{},e.G=e.S,e.B=$n(e,null,e.ga),Ln(e)},Qn.prototype.close=function(){xn(this.a)},Qn.prototype.l=function(e){if("string"==typeof e){var t={};t.__data__=e,Nn(this.a,t)}else this.m?((t={}).__data__=Pe(e),Nn(this.a,t)):Nn(this.a,e)},Qn.prototype.H=function(){this.a.f=null,delete this.f,xn(this.a),delete this.a,Qn.X.H.call(this)},b(er,pt),b(tr,dt),b(nr,Yn),nr.prototype.ua=function(){Ce(this.a,"a")},nr.prototype.ta=function(e){Ce(this.a,new er(e))},nr.prototype.sa=function(e){Ce(this.a,new tr(e))},nr.prototype.ra=function(){Ce(this.a,"b")},b(rr,ut),rr.prototype.a=function(){return new ir(this.f)},rr.prototype.c=function(e){return function(){return e}}({}),b(ir,ke);var or=0;function ar(e){e.f.read().then(e.Ta.bind(e)).catch(e.ca.bind(e))}function sr(e){e.readyState=4,e.g=null,e.f=null,e.m=null,ur(e)}function ur(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(o=ir.prototype).open=function(e,t){if(this.readyState!=or)throw this.abort(),Error("Error reopening a connection");this.s=e,this.o=t,this.readyState=1,ur(this)},o.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.o,t)).then(this.Wa.bind(this),this.ca.bind(this))},o.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,sr(this)),this.readyState=or},o.Wa=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ur(this)),this.a&&(this.readyState=3,ur(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.responseText="",this.f=e.body.getReader(),this.m=new TextDecoder,ar(this)):e.text().then(this.Va.bind(this),this.ca.bind(this)))))},o.Ta=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.responseText+=t),e.done?sr(this):ur(this),3==this.readyState&&ar(this)}},o.Va=function(e){this.a&&(this.responseText=e,sr(this))},o.Ua=function(){this.a&&sr(this)},o.ca=function(){this.a&&sr(this)},o.setRequestHeader=function(e,t){this.l.append(e,t)},o.getResponseHeader=function(e){return this.b&&this.b.get(e.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.b)return"";for(var e=[],t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),Zn.prototype.createWebChannel=Zn.prototype.a,Qn.prototype.send=Qn.prototype.l,Qn.prototype.open=Qn.prototype.h,Qn.prototype.close=Qn.prototype.close,at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,st.COMPLETE="complete",lt.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",ke.prototype.listen=ke.prototype.wa,_n.prototype.listenOnce=_n.prototype.xa,_n.prototype.getLastError=_n.prototype.Ra,_n.prototype.getLastErrorCode=_n.prototype.va,_n.prototype.getStatus=_n.prototype.W,_n.prototype.getResponseJson=_n.prototype.Qa,_n.prototype.getResponseText=_n.prototype.$,_n.prototype.send=_n.prototype.ba;var cr=function(){return new Zn},lr=function(){return Qe()},hr=at,fr=st,pr=Ye,dr={lb:0,ob:1,pb:2,Ib:3,Nb:4,Kb:5,Lb:6,Jb:7,Hb:8,Mb:9,PROXY:10,NOPROXY:11,Fb:12,Bb:13,Cb:14,Ab:15,Db:16,Eb:17,hb:18,gb:19,ib:20},gr=rr,vr=lt,mr=_n},342:function(e,t,n){var r;!function(){var i=window.CustomEvent;function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function u(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,r=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),i=function(i){if(i.target===e){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(t),t=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,i)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var l={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],r=null;try{r=n.cssRules}catch(l){}if(r)for(var i=0;i<r.length;++i){var o=r[i],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(l){}if(a&&s(a,e)){var u=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!l.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||l.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,r=0;t=e.removedNodes[r];++r)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},l.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var p=f.get;f.get=function(){return u(this)?"dialog":p.call(this)};var d=f.set;f.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):d.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",(function(e){if(l.formSubmitter=null,l.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&u(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;l.useValue=e.offsetX+","+e.offsetY}o(t)&&(l.formSubmitter=t)}}}),!1);var g=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return g.call(this);var e=o(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(u(t)){e.preventDefault();var n=o(t);if(n){var r=l.formSubmitter;r&&r.form===t?n.close(l.useValue||r.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n.amdD?void 0===(r=function(){return l}.call(t,n,t,e))||(e.exports=r):"object"==typeof e.exports?e.exports=l:window.dialogPolyfill=l}()},15399:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function p(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function d(e){this._db=e}function g(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new p(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new d(e)}))}function v(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=g,e.deleteDb=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)},90031:function(){!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(e){e&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},25771:function(){var e={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};(e=function(){"use strict";var e=[],t=[],n="mdlComponentConfigInternal_";function r(t,n){for(var r=0;r<e.length;r++)if(e[r].className===t)return void 0!==n&&(e[r]=n),e[r];return!1}function i(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function o(e,t){return-1!==i(e).indexOf(t)}function a(e,t,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:n});var r=document.createEvent("Events");return r.initEvent(e,t,n),r}function s(t,n){if(void 0===t&&void 0===n)for(var i=0;i<e.length;i++)s(e[i].className,e[i].cssClass);else{var o=t;if(void 0===n){var a=r(o);a&&(n=a.cssClass)}for(var c=document.querySelectorAll("."+n),l=0;l<c.length;l++)u(c[l],o)}}function u(s,u){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var c=a("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(c),!c.defaultPrevented){var l=i(s),h=[];if(u)o(s,u)||h.push(r(u));else{var f=s.classList;e.forEach((function(e){f.contains(e.cssClass)&&-1===h.indexOf(e)&&!o(s,e.className)&&h.push(e)}))}for(var p,d=0,g=h.length;d<g;d++){if(!(p=h[d]))throw new Error("Unable to find a registered component for the given class.");l.push(p.className),s.setAttribute("data-upgraded",l.join(","));var v=new p.classConstructor(s);v[n]=p,t.push(v);for(var m=0,_=p.callbacks.length;m<_;m++)p.callbacks[m](s);p.widget&&(s[p.className]=v);var b=a("mdl-componentupgraded",!0,!1);s.dispatchEvent(b)}}}function c(e){if(e){var r=t.indexOf(e);t.splice(r,1);var i=e.element_.getAttribute("data-upgraded").split(","),o=i.indexOf(e[n].classAsString);i.splice(o,1),e.element_.setAttribute("data-upgraded",i.join(","));var s=a("mdl-componentdowngraded",!0,!1);e.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:u,upgradeElements:function e(t){Array.isArray(t)||(t=t instanceof Element?[t]:Array.prototype.slice.call(t));for(var n,r=0,i=t.length;r<i;r++)(n=t[r])instanceof HTMLElement&&(u(n),n.children.length>0&&e(n.children))},upgradeAllRegistered:function(){for(var t=0;t<e.length;t++)s(e[t].className)},registerUpgradedCallback:function(e,t){var n=r(e);n&&n.callbacks.push(t)},register:function(t){var i=!0;void 0===t.widget&&void 0===t.widget||(i=t.widget||t.widget);var o={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(e.forEach((function(e){if(e.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===o.className)throw new Error("The provided className has already been registered")})),t.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");r(t.classAsString,o)||e.push(o)},downgradeElements:function(e){var n=function(e){t.filter((function(t){return t.element_===e})).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var r=0;r<e.length;r++)n(e[r]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(e)}}}}()).ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})}))},19201:function(){!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,(e=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,(e=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},44075:function(){!function(){"use strict";var e=function(e){this.element_=e,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}t.appendChild(n),t.appendChild(r),t.appendChild(i),this.element_.appendChild(t)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},12779:function(){!function(){"use strict";var e=function(e){this.element_=e,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(e){var t=e.target.value.split("\n").length;13===e.keyCode&&t>=this.maxRows&&e.preventDefault()},e.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(e){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},44914:function(e,t,n){"use strict";n.d(t,{F_:function(){return s}});var r=n(67294),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var o=function(e){return{loading:null==e,value:e}},a=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return i({},e,{error:t.error,loading:!1,value:void 0});case"reset":return o(t.defaultValue);case"value":return i({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),o(t)),a=n[0],s=n[1],u=function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},c=function(e){s({type:"error",error:e})},l=function(e){s({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:a.error,loading:a.loading,reset:u,setError:c,setValue:l,value:a.value}}),[a.error,a.loading,u,c,l,a.value])},s=function(e){var t=a((function(){return e.currentUser})),n=t.error,i=t.loading,o=t.setError,s=t.setValue,u=t.value;(0,r.useEffect)((function(){var t=e.onAuthStateChanged(s,o);return function(){t()}}),[e]);var c=[u,i,n];return(0,r.useMemo)((function(){return c}),c)}},59550:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return xi}});var r,i,o=n(67294),a=n(21941),s=n(5566),u=n(31129),c=(n(77489),n(53798),n(28691)),l=n(35190),h=(n(78689),n(23160)),f=n(46214),p={Firestore:h.q,GeoPoint:h.D,Timestamp:h.O,Blob:h.a,Transaction:h.K,WriteBatch:h.j,DocumentReference:h.G,DocumentSnapshot:h.Y,Query:h.Z,QueryDocumentSnapshot:h.X,QuerySnapshot:h.e,CollectionReference:h.n,FieldPath:h.i,FieldValue:h.r,setLogLevel:h.Q,CACHE_SIZE_UNLIMITED:h.p};(function(e,t){e.INTERNAL.registerComponent(new f.Component("firestore",(function(e){return function(e,t){return new h.q(e,new h.E(e,t),new h.B)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},p)))})(r=u.default),r.registerVersion("@firebase/firestore","2.3.7"),(i=h.q).prototype.loadBundle=h.o,i.prototype.namedQuery=h.c;var d=n(79900),g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},v=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,d.__extends)(t,e),t}(Error);var m=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){return(0,d.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function _(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var b=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return _(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?_(e,(function(e){return t.decode(e)})):e},e}();var y=function(){function e(e,t,n,i,o,a){var s=this;void 0===o&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new b,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new m(t,n),this.cancelAllRequests=new Promise((function(e){s.deleteService=function(){return e()}}));try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=o}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,d.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,p,m;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return i=this._url(e),t=this.serializer.encode(t),o={data:t},a={},[4,this.contextProvider.getContext()];case 1:return(s=d.sent()).authToken&&(a.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,c=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new v("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(u),l=c.timer,h=c.promise,[4,Promise.race([w(l,this.postJSON(i,o,a)),h,w(l,this.cancelAllRequests)])];case 2:if(!(f=d.sent()))throw new v("cancelled","Firebase Functions instance was deleted.");if(p=function(e,t,n){var i=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),o=i,a=void 0;try{var s=t&&t.error;if(s){var u=s.status;if("string"==typeof u){if(!g[u])return new v("internal","internal");i=g[u],o=u}var c=s.message;"string"==typeof c&&(o=c),void 0!==(a=s.details)&&(a=n.decode(a))}}catch(r){}return"ok"===i?null:new v(i,o,a)}(f.status,f.json,this.serializer))throw p;if(!f.json)throw new v("internal","Response is not valid JSON object.");if(void 0===(m=f.json.data)&&(m=f.json.result),void 0===m)throw new v("internal","Response is missing data field.");return[2,{data:this.serializer.decode(m)}]}}))}))},e}();function w(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}var E,T,I;E=u.default,T=fetch.bind(self),I={Functions:y},E.INTERNAL.registerComponent(new f.Component("functions",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal"),a=e.getProvider("messaging");return new y(r,i,a,o,n,T)}),"PUBLIC").setServiceProps(I).setMultipleInstances(!0)),u.default.registerVersion("@firebase/functions","0.6.12");var S,k=n(15399),C="0.4.29",A=1e4,P="w:0.4.29",R="FIS_v2",O=36e5,x=((S={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',S["not-registered"]="Firebase Installation is not registered.",S["installation-not-found"]="Firebase Installation not found.",S["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',S["app-offline"]="Could not process request. Application offline.",S["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",S),M=new c.ErrorFactory("installations","Installations",x);function D(e){return e instanceof c.FirebaseError&&e.code.includes("request-failed")}function N(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function L(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function j(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,M.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function F(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function U(e,t){var n=t.refreshToken,r=F(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function B(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function H(e,t){var n=t.fid;return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:return t=N(e),r=F(e),i={fid:n,authVersion:R,appId:e.appId,sdkVersion:P},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,B((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:L(s.authToken)}];case 3:return[4,j("Create Installation",a)];case 4:throw u.sent()}}))}))}function K(e){return new Promise((function(t){setTimeout(t,e)}))}var q=/^[cdef][\w-]{21}$/;function V(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,d.__spreadArray)([],(0,d.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return q.test(t)?t:""}catch(S){return""}}function z(e){return e.appName+"!"+e.appId}var W=new Map;function G(e,t){var n=z(e);X(n,t),function(e,t){var n=J();n&&n.postMessage({key:e,fid:t});Y()}(n,t)}function X(e,t){var n,r,i=W.get(e);if(i)try{for(var o=(0,d.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var $=null;function J(){return!$&&"BroadcastChannel"in self&&(($=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){X(e.data.key,e.data.fid)}),$}function Y(){0===W.size&&$&&($.close(),$=null)}var Z,Q="firebase-installations-store",ee=null;function te(){return ee||(ee=(0,k.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Q)}}))),ee}function ne(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return n=z(e),[4,te()];case 1:return r=s.sent(),i=r.transaction(Q,"readwrite"),[4,(o=i.objectStore(Q)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||G(e,t.fid),[2,t]}}))}))}function re(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return t=z(e),[4,te()];case 1:return n=i.sent(),[4,(r=n.transaction(Q,"readwrite")).objectStore(Q).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function ie(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:return n=z(e),[4,te()];case 1:return r=u.sent(),i=r.transaction(Q,"readwrite"),[4,(o=i.objectStore(Q)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||G(e,s.fid),[2,s]}}))}))}function oe(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,ie(e,(function(n){var r=function(e){return ue(e||{fid:V(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(M.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,H(e,t)];case 1:return n=i.sent(),[2,ne(e,n)];case 2:return D(r=i.sent())&&409===r.customData.serverCode?[4,re(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,ne(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ae(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function ae(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return[4,se(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,K(100)];case 3:return o.sent(),[4,se(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,oe(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function se(e){return ie(e,(function(e){if(!e)throw M.create("installation-not-found");return ue(e)}))}function ue(e){return 1===(t=e).registrationStatus&&t.registrationTime+A<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ce(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,d.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return N(e)+"/"+n+"/authTokens:generate"}(n,t),i=U(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:P}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,B((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,L(c)];case 3:return[4,j("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function le(e,t){return void 0===t&&(t=!1),(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return[4,ie(e.appConfig,(function(r){if(!fe(r))throw M.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+O}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,he(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,K(100)];case 3:return i.sent(),[4,he(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,le(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw M.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,d.__assign)((0,d.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ce(e,t)];case 1:return n=o.sent(),i=(0,d.__assign)((0,d.__assign)({},t),{authToken:n}),[4,ne(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!D(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,re(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,d.__assign)((0,d.__assign)({},t),{authToken:{requestStatus:0}}),[4,ne(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function he(e){return ie(e,(function(e){if(!fe(e))throw M.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+A<Date.now()?(0,d.__assign)((0,d.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function fe(e){return void 0!==e&&2===e.registrationStatus}function pe(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,oe(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function de(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return N(e)+"/"+n}(e,t),r=U(e,t),i={method:"DELETE",headers:r},[4,B((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,j("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function ge(e,t){var n=e.appConfig;return function(e,t){J();var n=z(e),r=W.get(n);r||(r=new Set,W.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=z(e),r=W.get(n);r&&(r.delete(t),0===r.size&&W.delete(n),Y())}(n,t)}}function ve(e){return M.create("missing-app-config-values",{valueName:e})}!function(e){e.INTERNAL.registerComponent(new f.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw ve("App Configuration");if(!e.name)throw ve("App Name");try{for(var r=(0,d.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw ve(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,oe(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):le(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,d.__awaiter)(this,void 0,void 0,(function(){return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,pe(e.appConfig)];case 1:return n.sent(),[4,le(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,ie(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw M.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw M.create("app-offline");case 3:return[4,de(t,n)];case 4:return r.sent(),[4,re(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return ge(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations",C)}(u.default);var me,_e=((Z={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Z["only-available-in-window"]="This method is available in a Window context.",Z["only-available-in-sw"]="This method is available in a service worker context.",Z["permission-default"]="The notification permission was not granted and dismissed instead.",Z["permission-blocked"]="The notification permission was not granted and blocked instead.",Z["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Z["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Z["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Z["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Z["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Z["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Z["token-update-no-token"]="FCM returned no token when updating the user to push.",Z["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Z["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Z["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Z["invalid-vapid-key"]="The public VAPID key must be a string.",Z["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Z),be=new c.ErrorFactory("messaging","Messaging",_e),ye="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",we="google.c.a.c_id";function Ee(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,d.__spreadArray)([],(0,d.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Te(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(me||(me={}));var Ie="fcm_token_details_db",Se="fcm_token_object_Store";function ke(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes(Ie))return[2,null];i.label=2;case 2:return n=null,[4,(0,k.openDb)(Ie,5,(function(t){return(0,d.__awaiter)(r,void 0,void 0,(function(){var r,i,o,a;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(Se)?[4,(r=t.transaction.objectStore(Se)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:Ee(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Ee(o.auth),p256dh:Ee(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Ee(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,(0,k.deleteDb)(Ie)];case 4:return i.sent(),[4,(0,k.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,(0,k.deleteDb)("undefined")];case 6:return i.sent(),[2,Ce(n)?n:null]}}))}))}function Ce(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var Ae="firebase-messaging-store",Pe=null;function Re(){return Pe||(Pe=(0,k.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ae)}}))),Pe}function Oe(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return t=De(e),[4,Re()];case 1:return[4,i.sent().transaction(Ae).objectStore(Ae).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,ke(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,xe(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function xe(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return n=De(e),[4,Re()];case 1:return r=o.sent(),[4,(i=r.transaction(Ae,"readwrite")).objectStore(Ae).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Me(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return t=De(e),[4,Re()];case 1:return n=i.sent(),[4,(r=n.transaction(Ae,"readwrite")).objectStore(Ae).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function De(e){return e.appConfig.appId}function Ne(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ue(e)];case 1:n=u.sent(),r=Be(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Fe(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),be.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,be.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw be.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Le(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ue(e)];case 1:n=u.sent(),r=Be(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Fe(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),be.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,be.create("token-update-failed",{errorInfo:s});if(!o.token)throw be.create("token-update-no-token");return[2,o.token]}}))}))}function je(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return[4,Ue(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Fe(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,be.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),be.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Fe(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Ue(e){var t=e.appConfig,n=e.installations;return(0,d.__awaiter)(this,void 0,void 0,(function(){var e;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Be(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==ye&&(o.web.applicationPubKey=i),o}function He(e,t,n){return(0,d.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw be.create("permission-blocked");return[4,ze(t,n)];case 1:return r=s.sent(),[4,Oe(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Ee(r.getKey("auth")),p256dh:Ee(r.getKey("p256dh"))},i?[3,3]:[2,Ve(e,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,p=c.p256dh===u.p256dh,l&&h&&f&&p)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,je(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Ve(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,qe({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,p}))}))}function Ke(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,Oe(e)];case 1:return(n=i.sent())?[4,je(e,n.token)]:[3,4];case 2:return i.sent(),[4,Me(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function qe(e,t,n){return(0,d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Le(t,e)];case 1:return r=a.sent(),i=(0,d.__assign)((0,d.__assign)({},e),{token:r,createTime:Date.now()}),[4,xe(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Ke(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Ve(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,Ne(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,xe(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function ze(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Te(t)})]}}))}))}function We(e){return"object"==typeof e&&!!e&&we in e}function Ge(e){return new Promise((function(t){setTimeout(t,e)}))}var Xe=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw be.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,d.__awaiter)(this,void 0,void 0,(function(){var n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Oe(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:ye,r.label=2;case 2:return[2,He(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Ke(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw be.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw be.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw be.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw be.create("only-available-in-window")},e.prototype.onMessage=function(){throw be.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw be.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,Ze()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Ye(n,t)]:(r=!1,t.notification?[4,Qe($e(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Ge(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,d.__awaiter)(this,void 0,void 0,(function(){var r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Ke(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Oe(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Ke(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,He(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:ye)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,d.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return We(e.data)?self.location.origin:null}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,Je(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Ge(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=me.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function $e(e){var t,n=(0,d.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function Je(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ze()];case 1:t=u.sent();try{for(n=(0,d.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Ye(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=me.PUSH_RECEIVED;try{for(var i=(0,d.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Ze(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Qe(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var et=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===me.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),We(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw be.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,He(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){return(0,d.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=ye),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw be.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),be.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){return(0,d.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Ke(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?be.create("permission-blocked"):be.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw be.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw be.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw be.create("invalid-sw-registration");if(this.swRegistration)throw be.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw be.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw be.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case me.NOTIFICATION_CLICKED:return"notification_open";case me.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function tt(e){return be.create("missing-app-config-values",{valueName:e})}var nt={isSupported:rt};function rt(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}u.default.INTERNAL.registerComponent(new f.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw tt("App Configuration Object");if(!e.name)throw tt("App Name");var r=e.options;try{for(var i=(0,d.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw tt(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!rt())throw be.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Xe(n):new et(n)}),"PUBLIC").setServiceProps(nt));var it="firebasestorage.googleapis.com",ot=function(e){function t(n,r){var i=e.call(this,at(n),"Firebase Storage: "+r+" ("+at(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,d.__extends)(t,e),t.prototype._codeEquals=function(e){return at(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(c.FirebaseError);function at(e){return"storage/"+e}function st(){return new ot("unknown","An unknown error occurred, please check the error payload for server response.")}function ut(){return new ot("canceled","User canceled the upload/download.")}function ct(){return new ot("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function lt(e){return new ot("invalid-argument",e)}function ht(){return new ot("app-deleted","The Firebase app was deleted.")}function ft(e){return new ot("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pt(e,t){return new ot("invalid-format","String does not match format '"+e+"': "+t)}function dt(e){throw new ot("internal-error","Internal error: "+e)}var gt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},vt=function(e,t){this.data=e,this.contentType=t||null};function mt(e,t){switch(e){case gt.RAW:return new vt(_t(t));case gt.BASE64:case gt.BASE64URL:return new vt(bt(e,t));case gt.DATA_URL:return new vt((n=new yt(t)).base64?bt(gt.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(r){throw pt(gt.DATA_URL,"Malformed data URL.")}return _t(t)}(n.rest),function(e){return new yt(e).contentType}(t))}var n;throw st()}function _t(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function bt(e,t){switch(e){case gt.BASE64:var n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i)throw pt(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case gt.BASE64URL:var o=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(o||a)throw pt(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(r){throw pt(e,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}var yt=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw pt(gt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var wt,Et={STATE_CHANGED:"state_changed"},Tt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function It(e){switch(e){case"running":case"pausing":case"canceling":return Tt.RUNNING;case"paused":return Tt.PAUSED;case"success":return Tt.SUCCESS;case"canceled":return Tt.CANCELED;case"error":default:return Tt.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(wt||(wt={}));var St=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=wt.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=wt.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=wt.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw dt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw dt("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw dt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw dt("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),kt=function(){function e(){}return e.prototype.createXhrIo=function(){return new St},e}(),Ct=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch(r){return new e(t,"")}if(""===i.path)return i;throw new ot("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===it?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],p=h[l.indices.path];p||(p=""),r=new e(f,p),l.postModify(r);break}}if(null==r)throw function(e){return new ot("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),At=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function Pt(e){return"string"==typeof e||e instanceof String}function Rt(e){return Ot()&&e instanceof Blob}function Ot(){return"undefined"!=typeof Blob}function xt(e,t,n,r){if(r<t)throw lt("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw lt("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Mt(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Dt(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var Nt=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var i,o=e.resolve_,a=e.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=e.callback_(s,s.getResponseText());void 0!==u?o(u):o()}catch(r){a(r)}else null!==s?((i=st()).serverResponse=s.getResponseText(),e.errorCallback_?a(e.errorCallback_(s,i)):a(i)):n.canceled?a(i=e.appDelete_?ht():ut()):a(i=new ot("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Lt(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,(0,d.__spreadArray)([null,e],t));else{var i;s()||o?c.call.apply(c,(0,d.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function p(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new Lt(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===wt.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Lt(a,n))}else{var s=n.getErrorCode()===wt.ABORT;t(!1,new Lt(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Lt=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function jt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=jt();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Ot())return new Blob(e);throw new ot("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ut=function(){function e(e,t){var n=0,r="";Rt(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Rt(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ot()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Ft.apply(null,r))}var i=t.map((function(e){return Pt(e)?mt(gt.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Bt(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function Ht(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Kt(e,t){return t}var qt=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Kt},Vt=null;function zt(){if(Vt)return Vt;var e=[];e.push(new qt("bucket")),e.push(new qt("generation")),e.push(new qt("metageneration")),e.push(new qt("name","fullPath",!0));var t=new qt("name");t.xform=function(e,t){return function(e){return!Pt(e)||e.length<2?e:Ht(e)}(t)},e.push(t);var n=new qt("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new qt("timeCreated")),e.push(new qt("updated")),e.push(new qt("md5Hash",null,!0)),e.push(new qt("cacheControl",null,!0)),e.push(new qt("contentDisposition",null,!0)),e.push(new qt("contentEncoding",null,!0)),e.push(new qt("contentLanguage",null,!0)),e.push(new qt("contentType",null,!0)),e.push(new qt("metadata","customMetadata",!0)),Vt=e}function Wt(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Ct(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Gt(e,t,n){var r=Bt(t);return null===r?null:Wt(e,r,n)}function Xt(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function $t(e,t,n){var r=Bt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Ct(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Ct(t,l.name)),r.items.push(s)}return r}(e,t,r)}var Jt=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Yt(e){if(!e)throw st()}function Zt(e,t){return function(n,r){var i=Gt(e,r,t);return Yt(null!==i),i}}function Qt(e,t){return function(n,r){var i=Gt(e,r,t);return Yt(null!==i),function(e,t,n){var r=Bt(t);if(null===r)return null;if(!Pt(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Mt("/b/"+o(r)+"/o/"+o(i),n)+Dt({alt:"media",token:t})}))[0]}(i,r,e.host)}}function en(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new ot("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ot("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new ot("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ot("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function tn(e){var t=en(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new ot("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function nn(e,t,n){var r=Mt(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Jt(r,"GET",Zt(e,n),i);return o.errorHandler=tn(t),o}function rn(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Mt(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Jt(a,"GET",function(e,t){return function(n,r){var i=$t(e,t,r);return Yt(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=en(t),u}function on(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var an=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function sn(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Yt(!1)}return Yt(!!n&&-1!==(t||["active"]).indexOf(n)),n}var un=262144;function cn(e,t,n,r,i,o,a,s){var u=new an(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ot("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw ct();var g=t.maxUploadRetryTime,v=new Jt(n,"POST",(function(e,n){var i,a=sn(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Zt(t,o)(e,n):null,new an(s,c,"final"===a,i)}),g);return v.headers=p,v.body=d.uploadData(),v.progressCallback=s||null,v.errorHandler=en(e),v}var ln=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function hn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var fn=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=zt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var i=function(e,t,n,i,o){var a=t.bucketOnlyServerUrl(),s=on(t,i,o),u={name:s.fullPath},c=Mt(a,e.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=Xt(s,n),f=e.maxUploadRetryTime,p=new Jt(c,"POST",(function(e){var t;sn(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(r){Yt(!1)}return Yt(Pt(t)),t}),f);return p.urlParams=u,p.headers=l,p.body=h,p.errorHandler=en(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,t,n);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,i){var o=function(e,t,n,i){var o=e.maxUploadRetryTime,a=new Jt(n,"POST",(function(e){var t=sn(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(r){Yt(!1)}n||Yt(!1);var o=Number(n);return Yt(!isNaN(o)),new an(o,i.size(),"final"===t)}),o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=en(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(o,n,i);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=un*this._chunkMultiplier,n=new an(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((function(o,a){var s;try{s=cn(e._ref._location,e._ref.storage,i,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(r){return e._error=r,void e._transition("error")}var u=e._ref.storage._makeRequest(s,o,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){un*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=nn(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=on(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Xt(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Ut.getBlob(c,r,l);if(null===h)throw ct();var f={name:u.fullPath},p=Mt(o,e.host),d=e.maxUploadRetryTime,g=new Jt(p,"POST",Zt(e,n),d);return g.urlParams=f,g.headers=a,g.body=h.uploadData(),g.errorHandler=en(t),g}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=ut(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=It(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new ln(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(It(this._state)){case Tt.SUCCESS:hn(this._resolve.bind(null,this.snapshot))();break;case Tt.CANCELED:case Tt.ERROR:hn(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(It(this._state)){case Tt.RUNNING:case Tt.PAUSED:e.next&&hn(e.next.bind(e,this.snapshot))();break;case Tt.SUCCESS:e.complete&&hn(e.complete.bind(e))();break;case Tt.CANCELED:case Tt.ERROR:e.error&&hn(e.error.bind(e,this._error))();break;default:e.error&&hn(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),pn=function(){function e(e,t){this._service=e,this._location=t instanceof Ct?t:Ct.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Ct(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Ht(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Ct(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw ft(e)},e}();function dn(e){var t={prefixes:[],items:[]};return gn(e,t).then((function(){return t}))}function gn(e,t,n){return(0,d.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return[4,vn(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,gn(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function vn(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&xt("options.maxResults",1,1e3,t.maxResults),n=t||{},r=rn(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function mn(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Mt(t.fullServerUrl(),e.host),o=Xt(n,r),a=e.maxOperationRetryTime,s=new Jt(i,"PATCH",Zt(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=tn(t),s}(e.storage,e._location,t,zt()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function _n(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Mt(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Jt(r,"GET",Qt(e,n),i);return o.errorHandler=tn(t),o}(e.storage,e._location,zt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new ot("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function bn(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Mt(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Jt(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=tn(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function yn(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Ct(e._location.bucket,n);return new pn(e.storage,r)}function wn(e){return/^[A-Za-z]+:\/\//.test(e)}function En(e,t){if(e instanceof Sn){var n=e;if(null==n._bucket)throw new ot("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new pn(n,n._bucket);return null!=t?En(r,t):r}if(void 0!==t){if(t.includes(".."))throw lt('`path` param cannot contain ".."');return yn(e,t)}return e}function Tn(e,t){if(t&&wn(t)){if(e instanceof Sn)return new pn(e,t);throw lt("To use ref(service, url), the first argument must be a Storage instance.")}return En(e,t)}function In(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:Ct.makeFromBucketSpec(n,e)}var Sn=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=it,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ct.makeFromBucketSpec(i,this._host):In(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Ct.makeFromBucketSpec(this._url,e):this._bucket=In(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){xt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){xt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new pn(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new At(ht());var i=function(e,t,n,r,i,o){var a=Dt(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Nt(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function kn(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new fn(e,new Ut(t),n)}(e=(0,c.getModularInstance)(e),t,n)}function Cn(e){return function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=nn(e.storage,e._location,zt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,c.getModularInstance)(e))}function An(e,t){return Tn(e=(0,c.getModularInstance)(e),t)}var Pn=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Rn=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Pn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Pn(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new Pn(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Pn(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),On=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new xn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new xn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),xn=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return yn(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Rn(kn(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=gt.RAW),this._throwIfRoot("putString");var r=mt(t,e),i=(0,d.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Rn(new fn(this._delegate,new Ut(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return dn(e=(0,c.getModularInstance)(e))}(this._delegate).then((function(t){return new On(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return vn(e=(0,c.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new On(e,t.storage)}))},e.prototype.getMetadata=function(){return Cn(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return mn(e=(0,c.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return _n(e=(0,c.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return bn(e=(0,c.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw ft(e)},e}(),Mn=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(wn(e))throw lt("ref() expected a child path but got a URL, use refFromURL instead.");return new xn(An(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!wn(e))throw lt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ct.makeFromUrl(e,this._delegate.host)}catch(r){throw lt("refFromUrl() expected a valid full URL but got an invalid one.")}return new xn(An(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function Dn(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Mn(r,new Sn(r,i,o,new kt,n,u.default.SDK_VERSION))}!function(e){var t={TaskState:Tt,TaskEvent:Et,StringFormat:gt,Storage:Sn,Reference:xn};e.INTERNAL.registerComponent(new f.Component("storage",Dn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.5")}(u.default);var Nn,Ln,jn,Fn="0.4.15",Un=Fn,Bn="FB-PERF-TRACE-MEASURE",Hn="_wt_",Kn="_fcp",qn="_fid",Vn="@firebase/performance/config",zn="@firebase/performance/configexpire",Wn="Performance",Gn=((Nn={})["trace started"]="Trace {$traceName} was started before.",Nn["trace stopped"]="Trace {$traceName} is not running.",Nn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Nn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Nn["no window"]="Window is not available.",Nn["no app id"]="App id is not available.",Nn["no project id"]="Project id is not available.",Nn["no api key"]="Api key is not available.",Nn["invalid cc log"]="Attempted to queue invalid cc event",Nn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Nn["RC response not ok"]="RC response is not ok",Nn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Nn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Nn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Nn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Nn),Xn=new c.ErrorFactory("performance",Wn,Gn),$n=new l.Logger(Wn);$n.logLevel=l.LogLevel.INFO;var Jn,Yn=function(){function e(e){if(this.window=e,!e)throw Xn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,c.isIndexedDBAvailable)()||($n.info("IndexedDB is not supported by current browswer"),!1):($n.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===Ln&&(Ln=new e(jn)),Ln},e}();function Zn(e,t){var n=e.length-t.length;if(n<0||n>1)throw Xn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Qn,er,tr=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Zn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Zn("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Xn.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Xn.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Xn.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===Jn&&(Jn=new e),Jn},e}();function nr(){return Qn}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(er||(er={}));var rr=["firebase_","google_","ga_"],ir=new RegExp("^[a-zA-Z]\\w*$");function or(){var e=Yn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function ar(){switch(Yn.getInstance().document.visibilityState){case"visible":return er.VISIBLE;case"hidden":return er.HIDDEN;default:return er.UNKNOWN}}function sr(){var e=Yn.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var ur="0.0.1",cr=!0,lr="FIREBASE_INSTALLATIONS_AUTH";function hr(e){var t=function(){var e=Yn.getInstance().localStorage;if(!e)return;var t=e.getItem(zn);if(!(t&&(n=t,Number(n)>Date.now())))return;var n;var r=e.getItem(Vn);if(!r)return;try{return JSON.parse(r)}catch(S){return}}();return t?(pr(t),Promise.resolve()):function(e){return(t=tr.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+tr.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+tr.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:lr+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:tr.getInstance().getAppId(),app_version:Un,sdk_version:ur})});return fetch(r).then((function(e){if(e.ok)return e.json();throw Xn.create("RC response not ok")}))})).catch((function(){$n.info(fr)}));var t}(e).then(pr).then((function(e){return function(e){var t=Yn.getInstance().localStorage;if(!e||!t)return;t.setItem(Vn,JSON.stringify(e)),t.setItem(zn,String(Date.now()+60*tr.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var fr="Could not fetch config, will use default configs";function pr(e){if(!e)return e;var t=tr.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=cr,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=dr(t.tracesSamplingRate),t.logNetworkAfterSampling=dr(t.networkRequestsSamplingRate),e}function dr(e){return Math.random()<=e}var gr,vr=1;function mr(){return vr=2,gr=gr||function(){var e=Yn.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return(e=tr.getInstance().installationsService.getId()).then((function(e){Qn=e})),e;var e})).then((function(e){return hr(e)})).then((function(){return _r()}),(function(){return _r()}))}function _r(){vr=3}var br,yr=1e4,wr=3,Er=[],Tr=!1;function Ir(e){setTimeout((function(){var e,t;if(0!==wr)return Er.length?(e=Er.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=tr.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||$n.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=yr;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Er=(0,d.__spreadArray)((0,d.__spreadArray)([],t),Er),$n.info("Retry transport request later.")),wr=3,Ir(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:tr.getInstance().logSource,log_event:t},e).catch((function(){Er=(0,d.__spreadArray)((0,d.__spreadArray)([],e),Er),wr--,$n.info("Tries left: "+wr+"."),Ir(yr)}))):Ir(yr)}),e)}function Sr(e){if(!e.eventTime||!e.message)throw Xn.create("invalid cc log");Er=(0,d.__spreadArray)((0,d.__spreadArray)([],Er),[e])}function kr(e,t){br||(br=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Sr({message:e.apply(void 0,t),eventTime:Date.now()})}}(Pr)),br(e,t)}function Cr(e){var t=tr.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Yn.getInstance().requiredApisAvailable()&&(e.isAuto&&ar()!==er.VISIBLE||(3===vr?Ar(e):mr().then((function(){return Ar(e)}),(function(){return Ar(e)}))))}function Ar(e){if(nr()){var t=tr.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return kr(e,1)}),0)}}function Pr(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:Rr(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Rr(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function Rr(){return{google_app_id:tr.getInstance().getAppId(),app_instance_id:nr(),web_app_info:{sdk_version:Un,page_url:Yn.getInstance().getUrl(),service_worker_status:or(),visibility_state:ar(),effective_connection_type:sr()},application_process_state:0}}var Or=["_fp",Kn,qn];var xr=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=Yn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Xn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Xn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Cr(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Xn.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Xn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,d.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Cr(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(i=e,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith(Hn)&&Or.indexOf(i)>-1)&&i.startsWith("_"))throw Xn.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&$n.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||rr.some((function(e){return n.startsWith(e)}))||!n.match(ir)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Xn.create("invalid attribute name",{attributeName:e});if(!i)throw Xn.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,d.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=Yn.getInstance().getUrl();if(i){var o=new e(Hn+i,!0),a=Math.floor(1e3*Yn.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(Kn,Math.floor(1e3*u.startTime)),r&&o.putMetric(qn,Math.floor(1e3*r))}Cr(o)}},e.createUserTimingTrace=function(t){Cr(new e(t,!1,t))},e}();function Mr(e){var t=e;if(t&&void 0!==t.responseStart){var n=Yn.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=tr.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return kr(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Dr(){nr()&&(setTimeout((function(){return function(){var e=Yn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){xr.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),xr.createOobTrace(t,n,e))}))}else xr.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=Yn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){Mr(r[n])}e.setupObserver("resource",Mr)}()}),0),setTimeout((function(){return function(){for(var e=Yn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){Nr(r[n])}e.setupObserver("measure",Nr)}()}),0))}function Nr(e){var t=e.name;t.substring(0,Bn.length)!==Bn&&xr.createUserTimingTrace(t)}var Lr=function(){function e(e){this.app=e,Yn.getInstance().requiredApisAvailable()&&(0,c.validateIndexedDBOpenable)().then((function(e){e&&(Tr||(Ir(5500),Tr=!0),mr().then(Dr,Dr))})).catch((function(e){$n.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new xr(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return tr.getInstance().instrumentationEnabled},set:function(e){tr.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return tr.getInstance().dataCollectionEnabled},set:function(e){tr.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw Xn.create("FB not default");if("undefined"==typeof window)throw Xn.create("no window");return function(e){jn=e}(window),tr.getInstance().firebaseAppInstance=e,tr.getInstance().installationsService=t,new Lr(e)};e.INTERNAL.registerComponent(new f.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",Fn)}(u.default);var jr,Fr,Ur="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(jr||(jr={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Fr||(Fr={}));var Br,Hr=new l.Logger("@firebase/analytics");function Kr(e,t,n,r,i,o){return(0,d.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,d.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),Hr.error(c),[3,8];case 8:return e(jr.CONFIG,i,o),[2]}}))}))}function qr(e,t,n,r,i){return(0,d.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,d.__generator)(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=p.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return p.sent(),e(jr.EVENT,r,i||{}),[3,5];case 4:return f=p.sent(),Hr.error(f),[3,5];case 5:return[2]}}))}))}function Vr(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,d.__awaiter)(this,void 0,void 0,(function(){var s;return(0,d.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==jr.EVENT?[3,2]:[4,qr(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==jr.CONFIG?[3,4]:[4,Kr(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(jr.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Hr.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var zr=((Br={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Br["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Br["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Br["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Br["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Br["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Br["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Br["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Br["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Br),Wr=new c.ErrorFactory("analytics","Analytics",zr),Gr=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function Xr(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function $r(e){var t;return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,d.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Xr(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Wr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Jr(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=Gr),(0,d.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,l,h,f;return(0,d.__generator)(this,(function(p){switch(p.label){case 0:t=e.appId,a=e.measurementId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Yr(n,i)];case 2:return p.sent(),[3,4];case 3:if(s=p.sent(),a)return Hr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return p.trys.push([4,6,,7]),[4,$r(e)];case 5:return u=p.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof c.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l=p.sent())){if(r.deleteThrottleMetadata(t),a)return Hr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:t,measurementId:a}];throw l}return h=503===Number(l.customData.httpStatus)?(0,c.calculateBackoffMillis)(o,r.intervalMillis,30):(0,c.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},r.setThrottleMetadata(t,f),Hr.debug("Calling attemptFetch again in "+h+" millis"),[2,Jr(e,f,n,r)];case 7:return[2]}}))}))}function Yr(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Zr=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function Qr(e,t,n,r,i,o){return(0,d.__awaiter)(this,void 0,void 0,(function(){var a,s,u,l,h,f,p;return(0,d.__generator)(this,(function(g){switch(g.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=Gr),(0,d.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,d.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Wr.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Wr.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Zr,setTimeout((function(){return(0,d.__awaiter)(c,void 0,void 0,(function(){return(0,d.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Jr({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Hr.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Hr.error(e)})),t.push(a),s=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:return(0,c.isIndexedDBAvailable)()?[3,1]:(Hr.warn(Wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,c.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Hr.warn(Wr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=g.sent(),l=u[0],h=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Ur))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=Ur+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,l.measurementId),i("js",new Date),(p={}).origin="firebase",p.update=!0,f=p,null!=h&&(f.firebase_id=h),i(jr.CONFIG,l.measurementId,f),[2,l.measurementId]}}))}))}var ei,ti,ni={},ri=[],ii={},oi="dataLayer",ai="gtag",si=!1;function ui(e){if(si)throw Wr.create("already-initialized");e.dataLayerName&&(oi=e.dataLayerName),e.gtagName&&(ai=e.gtagName)}function ci(e,t){!function(){var e=[];if((0,c.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,c.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=Wr.create("invalid-analytics-context",{errorInfo:t});Hr.warn(n.message)}}();var n=e.options.appId;if(!n)throw Wr.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Wr.create("no-api-key");Hr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ni[n])throw Wr.create("already-exists",{id:n});if(!si){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(oi);var r=Vr(ni,ri,ii,oi,ai),i=r.wrappedGtag,o=r.gtagCore;ti=i,ei=o,si=!0}return ni[n]=Qr(e,ri,ii,t,ei,oi),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,d.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(jr.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,d.__assign)((0,d.__assign)({},r),{send_to:o}),e(jr.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(ti,ni[n],e,t,r).catch((function(e){return Hr.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,d.__awaiter)(this,void 0,void 0,(function(){var i;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(jr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(jr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(ti,ni[n],e,t).catch((function(e){return Hr.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,d.__awaiter)(this,void 0,void 0,(function(){var i;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(jr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(jr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(ti,ni[n],e,t).catch((function(e){return Hr.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,d.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,d.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(jr.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(jr.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(ti,ni[n],e,t).catch((function(e){return Hr.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(ni[n],e).catch((function(e){return Hr.error(e)}))},INTERNAL:{delete:function(){return delete ni[n],Promise.resolve()}}}}var li="analytics";function hi(){return(0,d.__awaiter)(this,void 0,void 0,(function(){return(0,d.__generator)(this,(function(e){switch(e.label){case 0:if((0,c.isBrowserExtension)())return[2,!1];if(!(0,c.areCookiesEnabled)())return[2,!1];if(!(0,c.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,c.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new f.Component(li,(function(e){return ci(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ui,EventName:Fr,isSupported:hi})),e.INTERNAL.registerComponent(new f.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(li).getImmediate().logEvent}}catch(r){throw Wr.create("interop-component-reg-failed",{reason:r})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.13")}(u.default);var fi,pi=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),di=((fi={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",fi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",fi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",fi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",fi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",fi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",fi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",fi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",fi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",fi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',fi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',fi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",fi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",fi),gi=new c.ErrorFactory("remoteconfig","Remote Config",di);var vi=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,p,g,v,m,_,b,y;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=d.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),d.label=2;case 2:return d.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return d.sent(),[4,c];case 4:return h=d.sent(),[3,6];case 5:throw f=d.sent(),p="fetch-client-network","AbortError"===f.name&&(p="fetch-timeout"),gi.create(p,{originalErrorMessage:f.message});case 6:if(g=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];b=void 0,d.label=7;case 7:return d.trys.push([7,9,,10]),[4,h.json()];case 8:return b=d.sent(),[3,10];case 9:throw y=d.sent(),gi.create("fetch-client-parse",{originalErrorMessage:y.message});case 10:m=b.entries,_=b.state,d.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===_?g=500:"NO_CHANGE"===_?g=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(m={}),304!==g&&200!==g)throw gi.create("fetch-status",{httpStatus:g});return[2,{status:g,eTag:v,config:m}]}var w}))}))},e}(),mi=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),_i=["1","true","t","yes","y","on"],bi=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&_i.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),yi=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=l.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=l.LogLevel.SILENT;break;default:this._logger.logLevel=l.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,d.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:e=new mi,setTimeout((function(){return(0,d.__awaiter)(r,void 0,void 0,(function(){return(0,d.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof c.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){return(0,d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,d.__assign)((0,d.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new bi("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new bi("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new bi("static"))},e}();function wi(e,t){var n=e.target.error||void 0;return gi.create(t,{originalErrorMessage:n&&n.message})}var Ei="app_namespace_store";var Ti=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(wi(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Ei,{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise((function(i,o){var a=t.transaction([Ei],"readonly").objectStore(Ei),s=n.createCompositeKey(e);try{var u=a.get(s);u.onerror=function(e){o(wi(e,"storage-get"))},u.onsuccess=function(e){var t=e.target.result;i(t?t.value:void 0)}}catch(r){o(gi.create("storage-get",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,d.__awaiter)(this,void 0,void 0,(function(){var n,i=this;return(0,d.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise((function(o,a){var s=n.transaction([Ei],"readwrite").objectStore(Ei),u=i.createCompositeKey(e);try{var c=s.put({compositeKey:u,value:t});c.onerror=function(e){a(wi(e,"storage-set"))},c.onsuccess=function(){o()}}catch(r){a(gi.create("storage-set",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,d.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise((function(i,o){var a=t.transaction([Ei],"readwrite").objectStore(Ei),s=n.createCompositeKey(e);try{var u=a.delete(s);u.onerror=function(e){o(wi(e,"storage-delete"))},u.onsuccess=function(){i()}}catch(r){o(gi.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),Ii=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,d.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function Si(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(gi.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var ki,Ci=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t;return(0,d.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,d.__generator)(this,(function(a){switch(a.label){case 0:return[4,Si(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof c.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,c.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),Ai="@firebase/remote-config";(ki=u.default).INTERNAL.registerComponent(new f.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw gi.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw gi.create("registration-project-id");if(!s)throw gi.create("registration-api-key");if(!u)throw gi.create("registration-app-id");n=n||"firebase";var c=new Ti(u,r.name,n),h=new Ii(c),f=new l.Logger(Ai);f.logLevel=l.LogLevel.ERROR;var p=new vi(i,ki.SDK_VERSION,n,a,s,u),d=new Ci(p,c),g=new pi(d,c,h,f),v=new yi(r,g,h,c,f);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),ki.registerVersion(Ai,"0.1.40");n(91874);var Pi="8.6.8";u.default.registerVersion("firebase",Pi,"app"),u.default.SDK_VERSION=Pi;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),u.default.registerVersion("firebase","8.6.8");var Ri=n(44914);(0,a.auth)().languageCode="ru";var Oi={signInSuccessUrl:{}.SITE_URL,signInOptions:[{provider:u.default.auth.EmailAuthProvider.PROVIDER_ID,defaultCountry:"RU",whitelistedCountries:["+7"]},s.I.AnonymousAuthProvider.PROVIDER_ID],tosUrl:{}.SITE_URL+"coc",autoUpgradeAnonymousUsers:!0,callbacks:{signInFailure:function(e){if("firebaseui/anonymous-upgrade-merge-conflict"!=e.code)return Promise.resolve();var t,n=e.credential,r=(0,a.auth)().currentUser,i=u.default.app();return i.database().ref("users/"+r.uid).once("value").then((function(e){return t=e.val(),u.default.auth().signInWithCredential(n)})).then((function(e){var n;return i.database().ref("users/"+(null===(n=e.user)||void 0===n?void 0:n.uid)).set(t)})).then((function(){return r.delete()})).then((function(){t=null,window.location.assign({}.SITE_URL)}))}}},xi=function(){var e=(0,Ri.F_)((0,a.auth)()),t=e[0],n=e[1],r=(0,o.useRef)(null),i=(0,o.useRef)();return(0,o.useEffect)((function(){if(r.current)return i.current=i.current||new s.I.AuthUI((0,a.auth)()),i.current.start("#firebase-auth",Oi),function(){var e;null===(e=i.current)||void 0===e||e.delete()}}),[r.current,t]),n?o.createElement("p",null,"Загрузка..."):!t||t.isAnonymous?o.createElement("div",{ref:r,id:"firebase-auth"}):t?o.createElement("p",null,"Привет, ",t.email):o.createElement("p",null,"Что-то пошло не так")}},9923:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},21237:function(e,t,n){var r=n(22933);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},63999:function(e,t,n){var r=n(88314),i=n(24942),o=n(17580),a=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},89035:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},23826:function(e,t,n){var r=n(61267),i=n(5107),o=n(8601),a=n(72125);e.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},92921:function(e,t,n){var r=n(34691),i=n(72125),o=n(81771);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},81771:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},34691:function(e,t,n){var r=n(93235);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},62035:function(e,t,n){var r=n(4075),i=n(22933),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},31391:function(e,t,n){var r=n(83409);e.exports=r("navigator","userAgent")||""},11080:function(e,t,n){var r,i,o=n(4075),a=n(31391),s=o.process,u=s&&s.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},9526:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},18845:function(e,t,n){var r=n(4075),i=n(8601).f,o=n(92921),a=n(74089),s=n(68878),u=n(23826),c=n(45243);e.exports=function(e,t){var n,l,h,f,p,d=e.target,g=e.global,v=e.stat;if(n=g?r:v?r[d]||s(d,{}):(r[d]||{}).prototype)for(l in t){if(f=t[l],h=e.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(g?l:d+(v?".":"#")+l,e.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(e.sham||h&&h.sham)&&o(f,"sham",!0),a(n,l,f,e)}}},93235:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},83409:function(e,t,n){var r=n(79612),i=n(4075),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},4075:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},61267:function(e,t,n){var r=n(18415),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},61985:function(e){e.exports={}},85659:function(e,t,n){var r=n(34691),i=n(93235),o=n(62035);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},58266:function(e,t,n){var r=n(93235),i=n(89035),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},92152:function(e,t,n){var r=n(51284),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},40278:function(e,t,n){var r,i,o,a=n(55727),s=n(4075),u=n(22933),c=n(92921),l=n(61267),h=n(51284),f=n(5746),p=n(61985),d="Object already initialized",g=s.WeakMap;if(a||h.state){var v=h.state||(h.state=new g),m=v.get,_=v.has,b=v.set;r=function(e,t){if(_.call(v,e))throw new TypeError(d);return t.facade=e,b.call(v,e,t),t},i=function(e){return m.call(v,e)||{}},o=function(e){return _.call(v,e)}}else{var y=f("state");p[y]=!0,r=function(e,t){if(l(e,y))throw new TypeError(d);return t.facade=e,c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},45243:function(e,t,n){var r=n(93235),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},22933:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},69953:function(e){e.exports=!1},34713:function(e,t,n){var r=n(4075);e.exports=r.Promise},41782:function(e,t,n){var r=n(11080),i=n(93235);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},55727:function(e,t,n){var r=n(4075),i=n(92152),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},77373:function(e,t,n){"use strict";var r=n(9923),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},72125:function(e,t,n){var r=n(34691),i=n(85659),o=n(21237),a=n(66943),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},8601:function(e,t,n){var r=n(34691),i=n(66209),o=n(81771),a=n(88314),s=n(66943),u=n(61267),c=n(85659),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(n){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},86483:function(e,t,n){var r=n(35129),i=n(9526).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},29140:function(e,t){t.f=Object.getOwnPropertySymbols},35129:function(e,t,n){var r=n(61267),i=n(88314),o=n(63999).indexOf,a=n(61985);e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},66209:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},5107:function(e,t,n){var r=n(83409),i=n(86483),o=n(29140),a=n(21237);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},79612:function(e,t,n){var r=n(4075);e.exports=r},34265:function(e,t,n){var r=n(21237),i=n(22933),o=n(77373);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},74089:function(e,t,n){var r=n(4075),i=n(92921),o=n(61267),a=n(68878),s=n(92152),u=n(40278),c=u.get,l=u.enforce,h=String(String).split("String");(e.exports=function(e,t,n,s){var u,c=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),(u=l(n)).source||(u.source=h.join("string"==typeof t?t:""))),e!==r?(c?!p&&e[t]&&(f=!0):delete e[t],f?e[t]=n:i(e,t,n)):f?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},46660:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},68878:function(e,t,n){var r=n(4075),i=n(92921);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},5746:function(e,t,n){var r=n(29709),i=n(86819),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},51284:function(e,t,n){var r=n(4075),i=n(68878),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},29709:function(e,t,n){var r=n(69953),i=n(51284);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},52038:function(e,t,n){var r=n(21237),i=n(9923),o=n(1487)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},17580:function(e,t,n){var r=n(41697),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},88314:function(e,t,n){var r=n(58266),i=n(46660);e.exports=function(e){return r(i(e))}},41697:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},24942:function(e,t,n){var r=n(41697),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},18415:function(e,t,n){var r=n(46660);e.exports=function(e){return Object(r(e))}},66943:function(e,t,n){var r=n(22933);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},86819:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},30221:function(e,t,n){var r=n(41782);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},1487:function(e,t,n){var r=n(4075),i=n(29709),o=n(61267),a=n(86819),s=n(41782),u=n(30221),c=i("wks"),l=r.Symbol,h=u?l:l&&l.withoutSetter||a;e.exports=function(e){return o(c,e)&&(s||"string"==typeof c[e])||(s&&o(l,e)?c[e]=l[e]:c[e]=h("Symbol."+e)),c[e]}},17420:function(e,t,n){"use strict";var r=n(18845),i=n(69953),o=n(34713),a=n(93235),s=n(83409),u=n(52038),c=n(34265),l=n(74089);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!i&&"function"==typeof o){var h=s("Promise").prototype.finally;o.prototype.finally!==h&&l(o.prototype,"finally",h,{unsafe:!0})}}}]);
//# sourceMappingURL=91-1266b2f7ebdae4aa215f.js.map