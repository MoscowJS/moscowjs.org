(self.webpackChunkmoscowjs_org=self.webpackChunkmoscowjs_org||[]).push([[188],{88188:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var r=t(67294),l=t(68466),a=t(76264),u=t(56163),i=t(6004),o=(t(47311),t(45410)),s=t(11225),c=["baseId","unstable_idCountRef","unstable_virtual","rtl","orientation","items","groups","currentId","loop","wrap","shift","unstable_moves","unstable_hasActiveWidget","unstable_includesBaseElement","selectedId","panels","manual","setBaseId","registerItem","unregisterItem","registerGroup","unregisterGroup","move","next","previous","up","down","first","last","sort","unstable_setVirtual","setRTL","setOrientation","setCurrentId","setLoop","setWrap","setShift","reset","unstable_setIncludesBaseElement","unstable_setHasActiveWidget","select","setSelectedId","registerPanel","unregisterPanel"],d=c,m=[].concat(d,["tabId"]),f=(0,i.B)({name:"TabList",compose:s.Q,keys:d,useProps:function(e,n){return(0,a.a)({role:"tablist","aria-orientation":e.orientation},n)}}),p=(0,u.L)({as:"div",useHook:f,useCreateElement:function(e,n,t){return(0,o.C)(e,n,t)}}),b=t(9843),v=t(83382);var g=(0,i.B)({name:"Tab",compose:v.E,keys:c,useOptions:function(e){var n=e.focusable,t=void 0===n||n,r=(0,a._)(e,["focusable"]);return(0,a.a)({focusable:t},r)},useProps:function(e,n){var t=n.onClick,l=n.onFocus,u=(0,a._)(n,["onClick","onFocus"]),i=e.selectedId===e.id,o=function(e){return(0,r.useMemo)((function(){var n,t;return(null===(n=e.panels)||void 0===n||null===(t=n.find((function(n){return n.groupId===e.id})))||void 0===t?void 0:t.id)||void 0}),[e.panels,e.id])}(e),s=(0,b.c)(t),c=(0,b.c)(l),d=(0,r.useCallback)((function(n){var t,r;null===(t=s.current)||void 0===t||t.call(s,n),n.defaultPrevented||e.disabled||e.id&&(i||null===(r=e.select)||void 0===r||r.call(e,e.id))}),[e.disabled,i,e.select,e.id]),m=(0,r.useCallback)((function(n){var t,r;null===(t=c.current)||void 0===t||t.call(c,n),n.defaultPrevented||e.disabled||e.manual||e.id&&(i||null===(r=e.select)||void 0===r||r.call(e,e.id))}),[e.id,e.disabled,e.manual,i,e.select]);return(0,a.a)({role:"tab","aria-selected":i,"aria-controls":o,onClick:d,onFocus:m},u)}}),I=(0,u.L)({as:"button",memo:!0,useHook:g}),E=t(10946),k=t(62427);var h=t(58161),C=t(36459),_=t(88013);function P(e){var n,t,r=null===(n=e.panels)||void 0===n?void 0:n.find((function(n){return n.id===e.id})),l=e.tabId||(null==r?void 0:r.groupId);if(l||!r||!e.panels||!e.items)return l;var a,u,i,o=function(e,n){return e.filter((function(e){return!e.groupId})).indexOf(n)}(e.panels,r);return(null===(t=(a=e.items,u=e.panels,i=u.map((function(e){return e.groupId})).filter(Boolean),a.filter((function(e){return-1===i.indexOf(e.id||void 0)})))[o])||void 0===t?void 0:t.id)||void 0}var w=(0,i.B)({name:"TabPanel",compose:[C.i,_.f],keys:m,useProps:function(e,n){var t=n.ref,l=(0,a._)(n,["ref"]),u=(0,r.useRef)(null),i=P(e),o=e.id,s=e.registerPanel,c=e.unregisterPanel;return(0,r.useEffect)((function(){if(o)return null==s||s({id:o,ref:u,groupId:i}),function(){null==c||c(o)}}),[i,o,s,c]),(0,a.a)({ref:(0,h.c)(u,t),role:"tabpanel",tabIndex:0,"aria-labelledby":i},l)},useComposeOptions:function(e){var n=P(e);return(0,a.a)({visible:!!n&&e.selectedId===n},e)}}),y=(0,u.L)({as:"div",useHook:w}),x=t(50009),q=t(22010),B=t(43495),L=t(80055),T=(0,x.ZP)(p).withConfig({displayName:"qnaAsyncContainer__QnaTabList",componentId:"sc-10fruxj-0"})(["border-bottom:5px solid var(--color-primary);margin-bottom:",";"],(0,q.qZ)(1)),F=(0,x.ZP)(I).withConfig({displayName:"qnaAsyncContainer__QnaTab",componentId:"sc-10fruxj-1"})(["color:var(--color-text);background:none;border:none;padding:0 ",";line-height:",';&[aria-selected="true"]{background-color:var(--color-primary);color:#000;}'],(0,q.qZ)(.5),(0,q.qZ)(2)),O=function(){var e=(0,l.Dy)(),n=e[0],t=e[1],u=e[2],i=function(e){void 0===e&&(e={});var n=(0,E.T)(e),t=n.selectedId,l=n.loop,u=void 0===l||l,i=n.manual,o=void 0!==i&&i,s=(0,a._)(n,["selectedId","loop","manual"]),c=(0,k.u)((0,a.a)({loop:u,currentId:t},s)),d=(0,k.u)(),m=(0,r.useState)(t),f=m[0],p=m[1],b=(0,r.useCallback)((function(e){c.move(e),p(e)}),[c.move]);return(0,r.useEffect)((function(){null!==f&&(c.items.find((function(e){return e.id===f}))||c.currentId&&p(c.currentId))}),[f,c.items,c.currentId]),(0,a.a)((0,a.a)({},c),{},{selectedId:f,panels:d.items,manual:o,select:b,setSelectedId:p,registerPanel:(0,r.useCallback)((function(e){return d.registerItem(e)}),[d.registerItem]),unregisterPanel:(0,r.useCallback)((function(e){return d.unregisterItem(e)}),[d.unregisterItem])})}(),o=(0,l.cn)(),s=(0,r.useContext)(B.B),c=(0,r.useState)("Все вопросы"),d=c[0],m=c[1];return s?("Все вопросы"!==d&&(n.answered=n.answered.filter((function(e){return e.talk===d})),n.published=n.published.filter((function(e){return e.talk===d}))),r.createElement(r.Fragment,null,r.createElement(l.pk,null),u?r.createElement("p",null,"Загрузка..."):r.createElement(r.Fragment,null,r.createElement("p",null,r.createElement(L.Ph,{placeholder:"Фильтр вопросов",onChange:function(e){m(e.target.value)}},r.createElement("option",null,"Все вопросы"),t.map((function(e){return r.createElement("option",{key:e.title,id:e.title},e.title,", ",e.speaker)})))),r.createElement(T,Object.assign({},i,{"aria-label":"Вкладки с вопросами"}),r.createElement(F,i,"Вопросы"),n.answered.length?r.createElement(F,i,"Отвеченные"):null),r.createElement(y,i,n.unpublished.length?r.createElement(r.Fragment,null,r.createElement("h4",null,"На модерации"),r.createElement(l._u,{questions:n.unpublished}),r.createElement("hr",null)):null,r.createElement(l._u,{questions:n.published})),n.answered.length?r.createElement(y,i,r.createElement(l._u,{questions:n.answered})):null),o&&r.createElement("p",null,r.createElement("strong",null,"Ура, ты админ!")))):r.createElement("p",null,"В настоящий момент вопросы не принимаются.")}}}]);
//# sourceMappingURL=188-5ba8e450618def5d437b.js.map