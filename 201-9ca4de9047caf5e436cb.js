"use strict";(self.webpackChunkmoscowjs_org=self.webpackChunkmoscowjs_org||[]).push([[201],{6201:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var l=n(6540),r=n(6506),a=n(5579),u=n(8950),i=(n(691),n(7421)),o=n(6871),s=["baseId","unstable_idCountRef","unstable_virtual","rtl","orientation","items","groups","currentId","loop","wrap","shift","unstable_moves","unstable_hasActiveWidget","unstable_includesBaseElement","selectedId","panels","manual","setBaseId","registerItem","unregisterItem","registerGroup","unregisterGroup","move","next","previous","up","down","first","last","sort","unstable_setVirtual","setRTL","setOrientation","setCurrentId","setLoop","setWrap","setShift","reset","unstable_setIncludesBaseElement","unstable_setHasActiveWidget","select","setSelectedId","registerPanel","unregisterPanel"],d=s,c=[].concat(d,["tabId"]),m=(0,u.a)({name:"TabList",compose:o.T,keys:d,useProps:function(e,t){return(0,r.a)({role:"tablist","aria-orientation":e.orientation},t)}}),f=(0,a.a)({as:"div",useHook:m,useCreateElement:function(e,t,n){return(0,i.U)(e,t,n)}}),p=n(4614),b=n(7726);var v=(0,u.a)({name:"Tab",compose:b.k,keys:s,useOptions:function(e){var t=e.focusable,n=void 0===t||t,l=(0,r._)(e,["focusable"]);return(0,r.a)({focusable:n},l)},useProps:function(e,t){var n=t.onClick,a=t.onFocus,u=(0,r._)(t,["onClick","onFocus"]),i=e.selectedId===e.id,o=function(e){return(0,l.useMemo)((function(){var t,n;return(null===(t=e.panels)||void 0===t||null===(n=t.find((function(t){return t.groupId===e.id})))||void 0===n?void 0:n.id)||void 0}),[e.panels,e.id])}(e),s=(0,p.h)(n),d=(0,p.h)(a),c=(0,l.useCallback)((function(t){var n,l;null===(n=s.current)||void 0===n||n.call(s,t),t.defaultPrevented||e.disabled||e.id&&(i||null===(l=e.select)||void 0===l||l.call(e,e.id))}),[e.disabled,i,e.select,e.id]),m=(0,l.useCallback)((function(t){var n,l;null===(n=d.current)||void 0===n||n.call(d,t),t.defaultPrevented||e.disabled||e.manual||e.id&&(i||null===(l=e.select)||void 0===l||l.call(e,e.id))}),[e.id,e.disabled,e.manual,i,e.select]);return(0,r.a)({role:"tab","aria-selected":i,"aria-controls":o,onClick:c,onFocus:m},u)}}),g=(0,a.a)({as:"button",memo:!0,useHook:v}),I=n(3544),E=n(4486);var h=n(4276),k=n(7041),C=n(3628);function _(e){var t,n,l=null===(t=e.panels)||void 0===t?void 0:t.find((function(t){return t.id===e.id})),r=e.tabId||(null==l?void 0:l.groupId);if(r||!l||!e.panels||!e.items)return r;var a,u,i,o=function(e,t){return e.filter((function(e){return!e.groupId})).indexOf(t)}(e.panels,l),s=(a=e.items,u=e.panels,i=u.map((function(e){return e.groupId})).filter(Boolean),a.filter((function(e){return-1===i.indexOf(e.id||void 0)})));return(null===(n=s[o])||void 0===n?void 0:n.id)||void 0}var w=(0,u.a)({name:"TabPanel",compose:[k.W,C.a],keys:c,useProps:function(e,t){var n=t.ref,a=(0,r._)(t,["ref"]),u=(0,l.useRef)(null),i=_(e),o=e.id,s=e.registerPanel,d=e.unregisterPanel;return(0,l.useEffect)((function(){if(o)return null==s||s({id:o,ref:u,groupId:i}),function(){null==d||d(o)}}),[i,o,s,d]),(0,r.a)({ref:(0,h.N)(u,n),role:"tabpanel",tabIndex:0,"aria-labelledby":i},a)},useComposeOptions:function(e){var t=_(e);return(0,r.a)({visible:!!t&&e.selectedId===t},e)}}),y=(0,a.a)({as:"div",useHook:w}),P=n(2240),x=n(6127),T=n(7901),A=n(6405),F=n(7620),O=n(1232),j=n(3974),q=n(5881);const S=(0,P.default)(f).withConfig({displayName:"qnaAsyncContainer__QnaTabList",componentId:"sc-10fruxj-0"})(["border-bottom:5px solid var(--color-primary);margin-bottom:",";"],(0,x.di)(1)),B=(0,P.default)(g).withConfig({displayName:"qnaAsyncContainer__QnaTab",componentId:"sc-10fruxj-1"})(["color:var(--color-text);background:none;border:none;padding:0 ",";line-height:",";&[aria-selected='true']{background-color:var(--color-primary);color:#000;}"],(0,x.di)(.5),(0,x.di)(2));var H=()=>{const[e,t,n]=(0,q.y)(),a=function(e){void 0===e&&(e={});var t=(0,I.N)(e),n=t.selectedId,a=t.loop,u=void 0===a||a,i=t.manual,o=void 0!==i&&i,s=(0,r._)(t,["selectedId","loop","manual"]),d=(0,E.A)((0,r.a)({loop:u,currentId:n},s)),c=(0,E.A)(),m=(0,l.useState)(n),f=m[0],p=m[1],b=(0,l.useCallback)((function(e){d.move(e),p(e)}),[d.move]);return(0,l.useEffect)((function(){null!==f&&(d.items.find((function(e){return e.id===f}))||d.currentId&&p(d.currentId))}),[f,d.items,d.currentId]),(0,r.a)((0,r.a)({},d),{},{selectedId:f,panels:c.items,manual:o,select:b,setSelectedId:p,registerPanel:(0,l.useCallback)((function(e){return c.registerItem(e)}),[c.registerItem]),unregisterPanel:(0,l.useCallback)((function(e){return c.unregisterItem(e)}),[c.unregisterItem])})}(),u=(0,j.h)(),i=(0,l.useContext)(A.I),{0:o,1:s}=(0,l.useState)("Все вопросы");return i?("Все вопросы"!==o&&(e.answered=e.answered.filter((e=>e.talk===o)),e.published=e.published.filter((e=>e.talk===o))),l.createElement(l.Fragment,null,l.createElement(F.J,null),n?l.createElement("p",null,"Загрузка..."):l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement(T.l6,{"aria-placeholder":"Фильтр вопросов",onChange:e=>{s(e.target.value)}},l.createElement("option",null,"Все вопросы"),t.map((e=>l.createElement("option",{key:e.title,id:e.title},e.title,", ",e.speaker))))),l.createElement(S,Object.assign({},a,{"aria-label":"Вкладки с вопросами"}),l.createElement(B,a,"Вопросы"),e.answered.length?l.createElement(B,a,"Отвеченные"):null),l.createElement(y,a,e.unpublished.length?l.createElement(l.Fragment,null,l.createElement("h4",null,"На модерации"),l.createElement(O.I,{questions:e.unpublished}),l.createElement("hr",null)):null,l.createElement(O.I,{questions:e.published})),e.answered.length?l.createElement(y,a,l.createElement(O.I,{questions:e.answered})):null),u&&l.createElement("p",null,l.createElement("strong",null,"Ура, ты админ!")))):l.createElement("p",null,"В настоящий момент вопросы не принимаются.")}}}]);
//# sourceMappingURL=201-9ca4de9047caf5e436cb.js.map