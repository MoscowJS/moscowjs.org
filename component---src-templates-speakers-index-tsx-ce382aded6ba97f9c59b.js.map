{"version":3,"file":"component---src-templates-speakers-index-tsx-ce382aded6ba97f9c59b.js","mappings":"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","sources":["webpack://moscowjs.org/./src/features/speakers/speakerPhoto/index.tsx","webpack://moscowjs.org/./src/features/speakers/speakersGrid/index.tsx","webpack://moscowjs.org/./src/templates/speakers/index.tsx","webpack://moscowjs.org/./node_modules/react-feather/dist/icons/user-x.js"],"sourcesContent":["import React, { FunctionComponent } from 'react'\nimport { Link } from 'gatsby'\nimport Img from 'gatsby-image'\nimport { UserX } from 'react-feather'\n\nimport type { Speaker } from '../../../models'\nimport { rhythm } from '../../../utils/typography'\nimport { speakerPath } from '../../../utils/paths'\n\nexport const SpeakerPhoto: FunctionComponent<{\n  speaker: Pick<Speaker, 'name' | 'photo'>\n  companies?: Array<string> | string\n}> = ({ speaker, companies }) => {\n  companies = Array.isArray(companies)\n    ? companies\n    : typeof companies === 'string'\n    ? [companies]\n    : []\n\n  const company = companies.length ? (\n    <>\n      {', '}\n      <br />\n      <em>{companies.join(', ')}</em>\n    </>\n  ) : null\n\n  return (\n    <div>\n      {speaker.photo ? (\n        <Img\n          fluid={speaker.photo.imageFile.childImageSharp.fluid}\n          alt={speaker.name}\n        />\n      ) : (\n        <div\n          css={`\n            line-height: 0;\n          `}\n        >\n          <UserX size=\"100%\" />\n        </div>\n      )}\n      <p\n        css={`\n          text-align: center;\n          font-size: ${rhythm(0.5)};\n        `}\n      >\n        <Link to={speakerPath(speaker.name)}>{speaker.name}</Link>\n        {company}\n      </p>\n    </div>\n  )\n}\n","import React, { FunctionComponent } from 'react'\nimport styled from 'styled-components'\n\nimport type { Speaker, Talk } from '../../../models'\nimport { rhythm } from '../../../utils/typography'\nimport { SpeakerPhoto } from '../speakerPhoto'\n\nconst SpeakersContainer = styled.ul`\n  --item-width: ${rhythm(5)};\n\n  margin: 0 0 ${rhythm(2)};\n  display: grid;\n  grid-template-columns: repeat(auto-fill, var(--item-width));\n  grid-gap: ${rhythm(1)};\n  justify-content: space-between;\n`\n\nconst Speaker = styled.li`\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  font-size: ${rhythm(0.5)};\n  margin: 0;\n`\n\nexport const SpeakersGrid: FunctionComponent<{\n  speakers: Array<\n    Pick<Speaker<Pick<Talk, 'id' | 'company'>>, 'name' | 'photo' | 'talks'>\n  >\n}> = ({ speakers }) => {\n  return (\n    <SpeakersContainer>\n      {speakers.map(speaker => {\n        const companies: Array<string> = Array.from(\n          new Set(\n            speaker.talks\n              .map(({ talks_id }) =>\n                String(talks_id.company).normalize().trim()\n              )\n              .filter(company => Boolean(company))\n          ).keys()\n        )\n        return (\n          <Speaker key={speaker.name}>\n            <SpeakerPhoto speaker={speaker} companies={companies} />\n          </Speaker>\n        )\n      })}\n    </SpeakersContainer>\n  )\n}\n","import React, { FunctionComponent } from 'react'\nimport { graphql, PageProps } from 'gatsby'\n\nimport SEO from '../../utils/seo'\nimport type { Page, Speaker, WrappedWithDirectus } from '../../models'\nimport { Container, Footer, Header, Markdown } from '../../components/layout'\nimport { SpeakersGrid } from '../../features/speakers/speakersGrid'\n\nconst SpeakersPage: FunctionComponent<\n  PageProps<\n    WrappedWithDirectus<{\n      pages_by_id: Pick<Page, 'title' | 'content'>\n      persons: Array<Pick<Speaker, 'id' | 'name' | 'photo' | 'talks'>>\n    }>\n  >\n> = ({ data, location }) => {\n  const {\n    persons: speakers,\n    pages_by_id: { content, title },\n  } = data.directus\n  return (\n    <>\n      <SEO title={title} />\n      <Header location={location} />\n      <Container as=\"main\">\n        <Markdown>{content}</Markdown>\n        <SpeakersGrid speakers={speakers} />\n      </Container>\n      <Footer />\n    </>\n  )\n}\n\nexport const query = graphql`\n  query ($id: ID!) {\n    directus {\n      pages_by_id(id: $id) {\n        title\n        content\n      }\n      persons(\n        filter: {\n          talks: { talks_id: { meetup_id: { publish: { _eq: true } } } }\n        }\n        sort: [\"-talks.talks_id.meetup_id.date_start\"]\n        limit: -1\n      ) {\n        id\n        name\n        talks(filter: { talks_id: { meetup_id: { id: { _nnull: true } } } }) {\n          talks_id {\n            company\n          }\n        }\n        photo {\n          id\n          imageFile {\n            childImageSharp {\n              fluid(\n                cropFocus: CENTER\n                quality: 80\n                grayscale: true\n                maxWidth: 150\n                maxHeight: 150\n                fit: COVER\n              ) {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default SpeakersPage\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar UserX = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"8.5\",\n    cy: \"7\",\n    r: \"4\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"8\",\n    x2: \"23\",\n    y2: \"13\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"23\",\n    y1: \"8\",\n    x2: \"18\",\n    y2: \"13\"\n  }));\n});\nUserX.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nUserX.displayName = 'UserX';\nexport default UserX;"],"names":["SpeakerPhoto","_ref","speaker","companies","Array","isArray","company","length","React","join","photo","Img","fluid","imageFile","childImageSharp","alt","name","_StyledDiv","UserX","size","_StyledP","$_css","rhythm","Link","to","speakerPath","_styled","_styled2","withConfig","displayName","componentId","p","SpeakersContainer","styled","ul","Speaker","li","SpeakersGrid","speakers","map","from","Set","talks","_ref2","talks_id","String","normalize","trim","filter","Boolean","keys","key","data","location","persons","pages_by_id","content","title","directus","SEO","Header","Container","as","Markdown","Footer","_extends","Object","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","forwardRef","ref","_ref$color","color","_ref$size","rest","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","cx","cy","r","x1","y1","x2","y2","propTypes"],"sourceRoot":""}